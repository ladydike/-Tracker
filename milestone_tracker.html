<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ñ† Jihye's ÏóÖÎ¨¥ Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --bg-card: #1c2128;
            --border-color: #30363d;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-purple: #a371f7;
            --accent-orange: #d29922;
            --accent-red: #f85149;
            --accent-cyan: #39c5cf;
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --shadow-lg: 0 8px 30px rgba(0, 0, 0, 0.4);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Noto Sans KR', -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .bg-pattern {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: 
                radial-gradient(ellipse at 20% 20%, rgba(88, 166, 255, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(163, 113, 247, 0.08) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .logo {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .logo h1 {
            font-size: 1.3rem;
            font-weight: 700;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo p {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .nav-section {
            padding: 12px;
        }

        .nav-title {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            margin-bottom: 8px;
            padding-left: 12px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .nav-item:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: rgba(88, 166, 255, 0.15);
            color: var(--accent-blue);
        }

        .nav-item .badge {
            margin-left: auto;
            background: var(--bg-tertiary);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .nav-item.active .badge {
            background: rgba(88, 166, 255, 0.3);
        }

        .nav-subitem {
            padding-left: 36px;
            font-size: 0.8rem;
        }

        /* Ï†ëÍ∏∞/ÌéºÏπòÍ∏∞ Ìè¥Îçî */
        .nav-folder {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            border-radius: 6px;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.15s;
            font-size: 0.85rem;
        }

        .nav-folder:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .nav-folder .badge {
            margin-left: auto;
            background: var(--bg-tertiary);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.75rem;
            font-family: 'JetBrains Mono', monospace;
        }


        .nav-folder-children {
            display: none;
            flex-direction: column;
        }

        .nav-folder-children.show {
            display: flex;
        }

        .nav-folder-children .nav-item {
            padding-left: 36px;
            font-size: 0.85rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 260px;
            padding: 24px;
            overflow-y: auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .header h2 {
            font-size: 1.4rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header-actions {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            display: flex;
            align-items: center;
            gap: 6px;
            font-family: inherit;
        }

        .btn-primary {
            background: var(--gradient-1);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            border-color: var(--accent-blue);
        }

        /* Meeting Navigation */
        .meeting-nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 12px 16px;
            margin-bottom: 16px;
            border: 1px solid var(--border-color);
        }

        .nav-arrow {
            display: flex;
            align-items: center;
            gap: 10px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 10px 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-primary);
            min-width: 160px;
        }

        .nav-arrow:hover:not(:disabled) {
            border-color: var(--accent-blue);
            background: rgba(88, 166, 255, 0.1);
        }

        .nav-arrow:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .nav-arrow .arrow {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .nav-arrow.prev { justify-content: flex-start; }
        .nav-arrow.next { justify-content: flex-end; }

        .nav-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .nav-label {
            font-size: 0.7rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .nav-date {
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--accent-blue);
        }

        .nav-current {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
        }

        /* Action Items Tracker */
        .action-tracker {
            background: var(--bg-tertiary);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            margin-top: 20px;
        }

        .action-tracker-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 18px;
            border-bottom: 1px solid var(--border-color);
            background: var(--bg-card);
            border-radius: 12px 12px 0 0;
        }

        .action-tracker-header h4 {
            font-size: 0.95rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-stats {
            display: flex;
            gap: 12px;
        }

        .stat-badge {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.75rem;
            padding: 4px 10px;
            border-radius: 12px;
            font-family: 'JetBrains Mono', monospace;
        }

        .stat-badge.completed {
            background: rgba(63, 185, 80, 0.15);
            color: var(--accent-green);
        }

        .stat-badge.in-progress {
            background: rgba(88, 166, 255, 0.15);
            color: var(--accent-blue);
        }

        .stat-badge.pending {
            background: rgba(210, 153, 34, 0.15);
            color: var(--accent-orange);
        }

        .action-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .action-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 14px 18px;
            border-bottom: 1px solid var(--border-color);
            transition: background 0.2s ease;
        }

        .action-item:last-child {
            border-bottom: none;
        }

        .action-item:hover {
            background: var(--bg-card);
        }

        .action-checkbox {
            width: 20px;
            height: 20px;
            border-radius: 6px;
            border: 2px solid var(--border-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 2px;
            transition: all 0.2s ease;
        }

        .action-checkbox:hover {
            border-color: var(--accent-blue);
        }

        .action-checkbox.completed {
            background: var(--accent-green);
            border-color: var(--accent-green);
        }

        .action-checkbox.completed::after {
            content: '‚úì';
            color: white;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .action-checkbox.in-progress {
            border-color: var(--accent-blue);
            background: rgba(88, 166, 255, 0.2);
        }

        .action-checkbox.in-progress::after {
            content: '‚óê';
            color: var(--accent-blue);
            font-size: 0.8rem;
        }

        .action-content {
            flex: 1;
        }

        .action-text {
            font-size: 0.85rem;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .action-text.completed {
            text-decoration: line-through;
            color: var(--text-muted);
        }

        .action-meta {
            display: flex;
            gap: 10px;
            margin-top: 6px;
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .action-meta .source {
            color: var(--accent-blue);
        }

        .action-empty {
            padding: 30px;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        .action-status-menu {
            position: relative;
        }

        .status-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 4px;
            z-index: 100;
            display: none;
            min-width: 120px;
            box-shadow: var(--shadow-lg);
        }

        .status-dropdown.active {
            display: block;
        }

        .status-option {
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-option:hover {
            background: var(--bg-tertiary);
        }

        /* Group Cards */
        .groups-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .group-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .group-card:hover {
            transform: translateY(-2px);
            border-color: var(--accent-blue);
            box-shadow: var(--shadow-lg);
        }

        .group-card .group-name {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .group-card .group-meta {
            font-size: 0.8rem;
            color: var(--text-muted);
            display: flex;
            gap: 12px;
        }

        /* Timeline */
        .timeline-section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
        }

        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .timeline-header h3 {
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timeline {
            position: relative;
            padding-left: 20px;
        }

        .timeline::before {
            content: "";
            position: absolute;
            left: 6px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--border-color);
        }

        .timeline-item {
            position: relative;
            padding: 12px 0 12px 16px;
            cursor: pointer;
            transition: all 0.2s;
            border-radius: 6px;
            margin-left: -8px;
            padding-left: 24px;
        }

        .timeline-item:hover {
            background: var(--bg-tertiary);
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: 0;
            top: 18px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--accent-blue);
            border: 2px solid var(--bg-card);
        }

        .timeline-item .date {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-family: 'JetBrains Mono', monospace;
        }

        .timeline-item .title {
            font-weight: 500;
            margin: 4px 0;
        }

        .timeline-item .summary {
            font-size: 0.8rem;
            color: var(--text-secondary);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* Meeting Detail */
        .meeting-detail {
            display: none;
        }

        .meeting-detail.active {
            display: block;
        }

        .meeting-content {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 24px;
        }

        .meeting-content h4 {
            margin-top: 20px;
            margin-bottom: 10px;
            color: var(--accent-blue);
            font-size: 1rem;
        }

        .meeting-content ul {
            padding-left: 20px;
        }

        .meeting-content li {
            margin-bottom: 6px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .tag {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            margin-right: 6px;
        }

        /* Chat Panel */
        .chat-panel {
            position: fixed;
            right: -420px;
            top: 0;
            width: 420px;
            height: 100vh;
            background: var(--bg-secondary);
            border-left: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            transition: right 0.3s ease;
            z-index: 100;
        }

        .chat-panel.active {
            right: 0;
        }

        .chat-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        .chat-message {
            margin-bottom: 14px;
        }

        .chat-message.user {
            text-align: right;
        }

        .chat-message .bubble {
            display: inline-block;
            max-width: 85%;
            padding: 10px 14px;
            border-radius: 14px;
            font-size: 0.85rem;
            line-height: 1.5;
        }

        .chat-message.user .bubble {
            background: var(--gradient-1);
            color: white;
        }

        .chat-message.assistant .bubble {
            background: var(--bg-tertiary);
        }

        .answer-content {
            line-height: 1.7;
        }

        .answer-content p {
            margin: 0 0 8px 0;
        }

        .answer-content p:last-child {
            margin-bottom: 0;
        }

        .chat-sources {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-color);
        }

        .sources-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .sources-list {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .source-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 10px;
            background: var(--bg-secondary);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.75rem;
        }

        .source-item:hover {
            background: rgba(88, 166, 255, 0.1);
            border-color: var(--accent-blue);
        }

        .source-date {
            color: var(--accent-blue);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            white-space: nowrap;
        }

        .source-title {
            flex: 1;
            color: var(--text-primary);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .source-folder {
            color: var(--text-muted);
            font-size: 0.65rem;
            background: var(--bg-tertiary);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .loading-bubble {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-muted);
        }

        .loading-dots span {
            animation: blink 1.4s infinite both;
        }

        .loading-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loading-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes blink {
            0%, 80%, 100% { opacity: 0; }
            40% { opacity: 1; }
        }

        .chat-input-area {
            padding: 12px;
            border-top: 1px solid var(--border-color);
            display: flex;
            gap: 8px;
        }

        .chat-input {
            flex: 1;
            padding: 10px 14px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            color: var(--text-primary);
            font-size: 0.85rem;
            font-family: inherit;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--accent-blue);
        }

        .chat-send {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient-1);
            border: none;
            color: white;
            cursor: pointer;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 1.3rem;
            cursor: pointer;
        }

        .close-btn:hover {
            color: var(--text-primary);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-muted);
        }

        .empty-state .icon {
            font-size: 3rem;
            margin-bottom: 16px;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            z-index: 9999;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .notification.success { background: var(--accent-green); }
        .notification.error { background: var(--accent-red); }

        /* Tab Bar */
        .tab-bar {
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 12px;
        }

        .tab-btn {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid transparent;
            font-family: inherit;
            transition: all 0.2s;
        }

        .tab-btn:hover {
            color: var(--text-primary);
        }

        .tab-btn.active {
            background: rgba(88, 166, 255, 0.15);
            color: var(--accent-blue);
            border-color: var(--accent-blue);
        }

        /* Summary Content Styling */
        .summary-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        /* Section Card */
        .section-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            transition: border-color 0.2s ease;
        }

        .section-card:hover {
            border-color: rgba(88, 166, 255, 0.3);
        }

        .section-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 14px 18px;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
        }

        .section-card-icon {
            font-size: 1.1rem;
        }

        .section-card-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }

        .section-card-content {
            padding: 18px;
            line-height: 1.8;
            font-size: 0.9rem;
        }

        /* Section Card Color Variants */
        .section-card[data-type="overview"] .section-card-header {
            background: linear-gradient(135deg, rgba(88, 166, 255, 0.1) 0%, rgba(88, 166, 255, 0.05) 100%);
            border-left: 3px solid var(--accent-blue);
        }

        .section-card[data-type="detail"] .section-card-header {
            background: linear-gradient(135deg, rgba(163, 113, 247, 0.1) 0%, rgba(163, 113, 247, 0.05) 100%);
            border-left: 3px solid var(--accent-purple);
        }

        .section-card[data-type="risk"] .section-card-header {
            background: linear-gradient(135deg, rgba(210, 153, 34, 0.1) 0%, rgba(210, 153, 34, 0.05) 100%);
            border-left: 3px solid var(--accent-orange);
        }

        .section-card[data-type="action"] .section-card-header {
            background: linear-gradient(135deg, rgba(63, 185, 80, 0.1) 0%, rgba(63, 185, 80, 0.05) 100%);
            border-left: 3px solid var(--accent-green);
        }

        .section-card[data-type="followup"] .section-card-header {
            background: linear-gradient(135deg, rgba(57, 197, 207, 0.1) 0%, rgba(57, 197, 207, 0.05) 100%);
            border-left: 3px solid var(--accent-cyan);
        }

        /* Content inside section cards - Ìè∞Ìä∏ ÏÇ¨Ïù¥Ï¶à ÌÜµÏùº */
        .section-card-content h3 {
            color: var(--accent-purple);
            font-size: 0.95rem;
            margin: 16px 0 10px 0;
            padding-bottom: 6px;
            border-bottom: 1px solid var(--border-color);
        }

        .section-card-content h3:first-child {
            margin-top: 0;
        }

        .section-card-content ul, .section-card-content ol {
            padding-left: 20px;
            margin: 10px 0;
        }

        .section-card-content li {
            margin-bottom: 8px;
            color: var(--text-secondary);
            line-height: 1.7;
            font-size: 0.9rem;
        }

        .section-card-content li ul, .section-card-content li ol {
            margin-top: 6px;
            margin-bottom: 0;
        }

        .section-card-content strong {
            color: var(--accent-orange);
            font-weight: 600;
            font-size: inherit;
        }

        .section-card-content p {
            margin: 10px 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .section-card-content blockquote {
            border-left: 3px solid var(--accent-purple);
            padding-left: 12px;
            margin: 12px 0;
            color: var(--text-muted);
            font-style: italic;
        }

        /* Markdown Table Styles */
        .section-card-content .md-table,
        .md-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            font-size: 0.85rem;
            background: var(--bg-tertiary);
            border-radius: 8px;
            overflow: hidden;
        }

        .md-table thead {
            background: linear-gradient(135deg, rgba(88, 166, 255, 0.15) 0%, rgba(163, 113, 247, 0.1) 100%);
        }

        .md-table th {
            padding: 12px 14px;
            text-align: left;
            font-weight: 600;
            color: var(--text-primary);
            border-bottom: 2px solid var(--border-color);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .md-table td {
            padding: 10px 14px;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .md-table tbody tr:last-child td {
            border-bottom: none;
        }

        .md-table tbody tr:hover {
            background: rgba(88, 166, 255, 0.05);
        }

        .md-table td strong {
            color: var(--accent-orange);
        }

        .section-card-content h4 {
            color: var(--accent-blue);
            font-size: 0.9rem;
            margin: 14px 0 8px 0;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .section-card-content h4::before {
            content: 'üìå';
            font-size: 0.85rem;
        }

        /* Highlight special items */
        .section-card-content li:has(strong:first-child) {
            color: var(--text-primary);
        }

        /* ==================== Dashboard Styles ==================== */
        
        /* Month Selector */
        .month-selector {
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--bg-tertiary);
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .month-nav {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 4px 8px;
            font-size: 1rem;
            transition: color 0.2s;
        }

        .month-nav:hover {
            color: var(--accent-blue);
        }

        .current-month {
            font-weight: 600;
            font-size: 1rem;
            min-width: 120px;
            text-align: center;
        }

        /* Stats Row */
        .stats-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            transition: all 0.2s ease;
        }

        .stat-card:hover {
            border-color: var(--accent-blue);
            transform: translateY(-2px);
        }

        .stat-icon {
            font-size: 2rem;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-tertiary);
            border-radius: 12px;
        }

        .stat-info {
            display: flex;
            flex-direction: column;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            color: var(--text-primary);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .dashboard-left, .dashboard-right {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .dashboard-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
        }

        .dashboard-card .card-header {
            padding: 14px 18px;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dashboard-card .card-header h3 {
            font-size: 0.95rem;
            font-weight: 600;
            margin: 0;
        }

        .dashboard-card .card-header .month-selector {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .dashboard-card .card-header .month-nav {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            width: 28px;
            height: 28px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .dashboard-card .card-header .month-nav:hover {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
            color: white;
        }

        .dashboard-card .card-header .current-month {
            font-weight: 600;
            font-size: 0.9rem;
            min-width: 90px;
            text-align: center;
            color: var(--text-primary);
        }

        .dashboard-card .card-content {
            padding: 18px;
        }

        /* Mini Calendar */
        .mini-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            text-align: center;
        }

        .mini-calendar .cal-header {
            font-size: 0.7rem;
            color: var(--text-muted);
            padding: 8px 0;
            font-weight: 500;
        }

        .mini-calendar .cal-day {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .mini-calendar .cal-day:hover {
            background: var(--bg-tertiary);
        }

        .mini-calendar .cal-day.today {
            background: rgba(88, 166, 255, 0.2);
            color: var(--accent-blue);
            font-weight: 600;
        }

        .mini-calendar .cal-day .meeting-dots {
            display: flex;
            gap: 2px;
            position: absolute;
            bottom: 3px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 90%;
        }

        .mini-calendar .cal-day .meeting-dot {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: var(--accent-blue);
        }

        .mini-calendar .cal-day .meeting-dot.extra {
            background: var(--accent-orange);
        }

        .mini-calendar .cal-day .worklog-dot {
            width: 5px;
            height: 5px;
            border-radius: 2px;
            background: var(--accent-green);
        }

        .mini-calendar .cal-day.has-worklog {
            background: rgba(63, 185, 80, 0.1);
        }

        .mini-calendar .cal-day.other-month {
            color: var(--text-muted);
            opacity: 0.4;
        }

        .calendar-legend {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-color);
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .calendar-legend .dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 4px;
        }

        .calendar-legend .dot.high { background: var(--accent-orange); }
        .calendar-legend .dot.medium { background: var(--accent-blue); }
        .calendar-legend .dot.none { background: var(--border-color); }
        .calendar-legend .dot.worklog { background: var(--accent-green); border-radius: 2px; }

        /* Day Meetings Modal */
        .day-meetings-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.2s;
        }

        .day-meetings-content {
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            width: 90%;
            max-width: 400px;
            max-height: 70vh;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .day-meetings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
        }

        .day-meetings-header h3 {
            margin: 0;
            font-size: 1rem;
            font-weight: 600;
        }

        .day-meetings-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-muted);
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }

        .day-meetings-close:hover {
            color: var(--text-primary);
        }

        .day-meetings-list {
            padding: 8px;
            overflow-y: auto;
            max-height: 50vh;
        }

        .day-meeting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.15s;
        }

        .day-meeting-item:hover {
            background: var(--bg-tertiary);
        }

        .day-meeting-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .day-meeting-title {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .day-meeting-folder {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .day-meeting-badge {
            font-size: 0.7rem;
            padding: 4px 8px;
            border-radius: 12px;
            background: var(--bg-primary);
            color: var(--text-secondary);
        }

        /* Day Detail Modal - Ï∂îÍ∞Ä Ïä§ÌÉÄÏùº */
        .day-section {
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .day-section:last-of-type {
            border-bottom: none;
        }

        .day-section-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .day-empty {
            font-size: 0.8rem;
            color: var(--text-muted);
            padding: 8px 0;
        }

        .day-worklog-items {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .day-worklog-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            padding: 6px 0;
        }

        .day-worklog-status {
            width: 18px;
            text-align: center;
            color: var(--text-muted);
        }

        .day-worklog-item.completed .day-worklog-status {
            color: var(--accent-green);
        }

        .day-worklog-item.in_progress .day-worklog-status {
            color: var(--accent-orange);
        }

        .day-worklog-item.completed .day-worklog-text {
            text-decoration: line-through;
            color: var(--text-muted);
        }

        .day-worklog-memo {
            margin-top: 10px;
            padding: 10px;
            background: var(--bg-primary);
            border-radius: 6px;
            font-size: 0.8rem;
        }

        .day-worklog-memo .memo-label {
            color: var(--text-secondary);
        }

        .day-worklog-memo .memo-text {
            color: var(--text-primary);
            margin-left: 4px;
        }

        .day-modal-actions {
            padding: 12px 16px;
            display: flex;
            justify-content: center;
        }

        .day-edit-worklog-btn {
            background: var(--accent-blue);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: background 0.15s;
        }

        .day-edit-worklog-btn:hover {
            background: #4a90d9;
        }

        /* Project Chart */
        .project-chart {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .project-bar {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .project-name {
            width: 100px;
            font-size: 0.8rem;
            color: var(--text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .project-bar-bg {
            flex: 1;
            height: 24px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
        }

        .project-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple));
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 8px;
            min-width: 30px;
            transition: width 0.3s ease;
        }

        .project-bar-fill span {
            font-size: 0.7rem;
            font-weight: 600;
            color: white;
        }

        .project-count {
            width: 30px;
            text-align: right;
            font-size: 0.85rem;
            font-family: 'JetBrains Mono', monospace;
            color: var(--text-primary);
        }

        /* Work Log Styles */
        .worklog-card .card-header {
            background: linear-gradient(135deg, var(--bg-tertiary), rgba(88, 166, 255, 0.1));
        }

        .worklog-card .card-header .worklog-date-nav {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .worklog-card .card-header .worklog-date {
            font-size: 0.8rem;
            color: var(--text-primary);
            font-weight: 500;
            min-width: 90px;
            text-align: center;
        }

        .worklog-nav-btn {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            width: 24px;
            height: 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.15s;
        }

        .worklog-nav-btn:hover {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
            color: white;
        }

        .worklog-today-btn {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.7rem;
            margin-left: 4px;
            transition: all 0.15s;
        }

        .worklog-today-btn:hover {
            background: var(--accent-green);
            border-color: var(--accent-green);
            color: white;
        }

        .worklog-today-btn.active {
            background: var(--accent-green);
            border-color: var(--accent-green);
            color: white;
        }

        .worklog-mode-toggle {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 12px;
        }

        .worklog-edit-btn {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.15s;
        }

        .worklog-edit-btn:hover {
            border-color: var(--accent-blue);
            color: var(--accent-blue);
        }

        .worklog-edit-btn.editing {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
            color: white;
        }

        .worklog-input-area.hidden {
            display: none;
        }

        .worklog-input-area {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .worklog-input {
            flex: 1;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 10px 14px;
            font-size: 0.85rem;
            color: var(--text-primary);
            outline: none;
            transition: border-color 0.2s;
        }

        .worklog-input:focus {
            border-color: var(--accent-blue);
        }

        .worklog-input::placeholder {
            color: var(--text-muted);
        }

        .worklog-add-btn {
            background: var(--accent-blue);
            color: white;
            border: none;
            border-radius: 8px;
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .worklog-add-btn:hover {
            background: #4a90d9;
        }

        .worklog-items {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 16px;
        }

        .worklog-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            background: var(--bg-primary);
            border-radius: 8px;
            border: 1px solid var(--border-color);
            transition: all 0.15s;
        }

        .worklog-item:hover {
            border-color: var(--accent-blue);
        }

        .worklog-status {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid var(--border-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .worklog-status.pending {
            border-color: var(--text-muted);
            color: transparent;
        }

        .worklog-status.in_progress {
            border-color: var(--accent-orange);
            background: rgba(210, 153, 34, 0.2);
            color: var(--accent-orange);
        }

        .worklog-status.completed {
            border-color: var(--accent-green);
            background: var(--accent-green);
            color: white;
        }

        .worklog-content {
            flex: 1;
            font-size: 0.85rem;
            color: var(--text-primary);
            word-break: break-word;
        }

        .worklog-item.completed .worklog-content {
            text-decoration: line-through;
            color: var(--text-muted);
        }

        .worklog-delete {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 4px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.15s, color 0.15s;
        }

        .worklog-item:hover .worklog-delete {
            opacity: 1;
        }

        .worklog-delete:hover {
            color: #e74c3c;
        }

        .worklog-memo-area {
            border-top: 1px solid var(--border-color);
            padding-top: 12px;
        }

        .worklog-memo-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .worklog-memo-toggle {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 0.7rem;
            transition: transform 0.2s;
        }

        .worklog-memo-toggle.collapsed {
            transform: rotate(-90deg);
        }

        .worklog-memo {
            width: 100%;
            min-height: 60px;
            max-height: 120px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 10px 12px;
            font-size: 0.8rem;
            color: var(--text-primary);
            resize: vertical;
            outline: none;
            font-family: inherit;
            transition: border-color 0.2s;
        }

        .worklog-memo:focus {
            border-color: var(--accent-blue);
        }

        .worklog-memo::placeholder {
            color: var(--text-muted);
        }

        .worklog-memo.collapsed {
            display: none;
        }

        .worklog-empty {
            text-align: center;
            padding: 20px;
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        /* Recent Meetings */
        .recent-meetings {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .recent-meeting-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            background: var(--bg-tertiary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .recent-meeting-item:hover {
            background: rgba(88, 166, 255, 0.1);
        }

        .recent-date {
            font-size: 0.7rem;
            color: var(--accent-blue);
            font-family: 'JetBrains Mono', monospace;
            white-space: nowrap;
        }

        .recent-info {
            flex: 1;
        }

        .recent-title {
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .recent-folder {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        /* Action Summary */
        .action-summary {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .action-summary-stats {
            display: flex;
            gap: 16px;
            padding-bottom: 12px;
            margin-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .action-stat {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
        }

        .action-stat .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .action-stat .dot.pending { background: var(--accent-orange); }
        .action-stat .dot.progress { background: var(--accent-blue); }
        .action-stat .dot.done { background: var(--accent-green); }

        .action-summary-list {
            display: flex;
            flex-direction: column;
            gap: 6px;
            max-height: 200px;
            overflow-y: auto;
        }

        .action-summary-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.8rem;
            padding: 8px 10px;
            background: var(--bg-tertiary);
            border-radius: 6px;
        }

        .action-summary-item .status-icon {
            font-size: 0.9rem;
        }

        .action-summary-item .action-text {
            flex: 1;
            color: var(--text-secondary);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .action-summary-item .action-source {
            font-size: 0.65rem;
            color: var(--text-muted);
        }

        /* Loading Spinner */
        .loading-spinner {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px;
            color: var(--text-muted);
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-color);
            border-top-color: var(--accent-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 16px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Meeting Type Badge */
        .meeting-type-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-left: 8px;
        }

        .meeting-type-badge.qna { background: rgba(163, 113, 247, 0.2); color: var(--accent-purple); }
        .meeting-type-badge.s2 { background: rgba(88, 166, 255, 0.2); color: var(--accent-blue); }
        .meeting-type-badge.default { background: rgba(139, 148, 158, 0.2); color: var(--text-secondary); }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <h1>‚ñ† Jihye's ÏóÖÎ¨¥ Tracker</h1>
                <p>ÌöåÏùòÎ°ù Follow-up ÏãúÏä§ÌÖú</p>
            </div>

            <nav class="nav-section">
                <div class="nav-item active" id="nav-dashboard" onclick="showDashboard()">
                    <span>üìä</span>
                    <span>Dashboard</span>
                </div>
            </nav>

            <nav class="nav-section">
                <div class="nav-title">ÌöåÏùò Ìè¥Îçî</div>
                <div id="folder-nav">
                    <!-- Ìè¥Îçî ÎÑ§ÎπÑÍ≤åÏù¥ÏÖòÏù¥ Ïó¨Í∏∞Ïóê Î†åÎçîÎßÅÎê® -->
                </div>
            </nav>

            <nav class="nav-section" style="margin-top: auto; border-top: 1px solid var(--border-color); padding-top: 12px;">
                <div class="nav-item" id="open-chat">
                    <span>ü§ñ</span>
                    <span>AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏</span>
                </div>
                <div class="nav-item" id="sync-btn">
                    <span>üîÑ</span>
                    <span>ÎèôÍ∏∞Ìôî</span>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard View (Î©îÏù∏ ÌôîÎ©¥) -->
            <div class="view" id="dashboard-view">
                <div class="header">
                    <h2>üìä ÏõîÎ≥Ñ Dashboard</h2>
                </div>

                <!-- Î©îÏù∏ Ïª®ÌÖêÏ∏† Í∑∏Î¶¨Îìú -->
                <div class="dashboard-grid">
                    <!-- ÏôºÏ™Ω: Ï∫òÎ¶∞Îçî + S2 ÌîÑÎ°úÏ†ùÌä∏ ÌòÑÌô© -->
                    <div class="dashboard-left">
                        <!-- ÎØ∏Îãà Ï∫òÎ¶∞Îçî -->
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>üìÖ ÌöåÏùò Ï∫òÎ¶∞Îçî</h3>
                                <div class="month-selector">
                                    <button class="month-nav" id="prev-month">‚óÄ</button>
                                    <span class="current-month" id="current-month">2025ÎÖÑ 12Ïõî</span>
                                    <button class="month-nav" id="next-month">‚ñ∂</button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="mini-calendar" id="mini-calendar">
                                    <!-- JSÎ°ú Î†åÎçîÎßÅ -->
                                </div>
                                <div class="calendar-legend">
                                    <span><i class="dot medium"></i> ÌöåÏùò</span>
                                    <span><i class="dot high"></i> 4Í±¥+</span>
                                    <span><i class="dot worklog"></i> ÏóÖÎ¨¥ÏùºÏßÄ</span>
                                </div>
                            </div>
                        </div>

                        <!-- S2 ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ ÌòÑÌô© -->
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>üéÆ ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ ÌöåÏùò ÌòÑÌô©</h3>
                            </div>
                            <div class="card-content">
                                <div class="project-chart" id="project-chart">
                                    <!-- JSÎ°ú Î†åÎçîÎßÅ -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Ïò§Î•∏Ï™Ω: ÏóÖÎ¨¥ÏùºÏßÄ + ÏµúÍ∑º ÌöåÏùò + Ïï°ÏÖò ÏïÑÏù¥ÌÖú -->
                    <div class="dashboard-right">
                        <!-- ÏóÖÎ¨¥ÏùºÏßÄ -->
                        <div class="dashboard-card worklog-card">
                            <div class="card-header">
                                <h3>üìù ÏóÖÎ¨¥ÏùºÏßÄ</h3>
                                <div class="worklog-date-nav">
                                    <button class="worklog-nav-btn" id="worklog-prev-day">‚óÄ</button>
                                    <span class="worklog-date" id="worklog-date">1Ïõî 16Ïùº (Î™©)</span>
                                    <button class="worklog-nav-btn" id="worklog-next-day">‚ñ∂</button>
                                    <button class="worklog-today-btn" id="worklog-today-btn">Ïò§Îäò</button>
                                </div>
                            </div>
                            <div class="card-content">
                                <!-- Ìé∏Ïßë Î™®Îìú ÌÜ†Í∏Ä -->
                                <div class="worklog-mode-toggle">
                                    <button class="worklog-edit-btn" id="worklog-edit-btn">‚úèÔ∏è Ìé∏Ïßë</button>
                                </div>

                                <!-- ÏóÖÎ¨¥ ÏûÖÎ†• (Ìé∏Ïßë Î™®ÎìúÏóêÏÑúÎßå ÌëúÏãú) -->
                                <div class="worklog-input-area" id="worklog-input-area">
                                    <input type="text" class="worklog-input" id="worklog-input" placeholder="ÏóÖÎ¨¥ ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." />
                                    <button class="worklog-add-btn" id="worklog-add-btn">+</button>
                                </div>
                                
                                <!-- ÏóÖÎ¨¥ Î™©Î°ù -->
                                <div class="worklog-items" id="worklog-items">
                                    <!-- JSÎ°ú Î†åÎçîÎßÅ -->
                                </div>

                                <!-- Î©îÎ™® ÏòÅÏó≠ -->
                                <div class="worklog-memo-area">
                                    <div class="worklog-memo-header">
                                        <span>üí¨ Î©îÎ™®</span>
                                        <button class="worklog-memo-toggle" id="worklog-memo-toggle">‚ñº</button>
                                    </div>
                                    <textarea class="worklog-memo" id="worklog-memo" placeholder="Î©îÎ™®Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- ÏµúÍ∑º ÌöåÏùòÎ°ù -->
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>üî• ÏµúÍ∑º ÌöåÏùòÎ°ù</h3>
                            </div>
                            <div class="card-content">
                                <div class="recent-meetings" id="recent-meetings">
                                    <!-- JSÎ°ú Î†åÎçîÎßÅ -->
                                </div>
                            </div>
                        </div>

                        <!-- Ïï°ÏÖò ÏïÑÏù¥ÌÖú ÌòÑÌô© -->
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>‚úÖ Ïï°ÏÖò ÏïÑÏù¥ÌÖú ÌòÑÌô©</h3>
                            </div>
                            <div class="card-content">
                                <div class="action-summary" id="action-summary">
                                    <!-- JSÎ°ú Î†åÎçîÎßÅ -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Folder View (Í∑∏Î£π Î™©Î°ù) -->
            <div class="view" id="folder-view" style="display: none;">
                <div class="header">
                    <h2 id="folder-title">üìÅ ÌöåÏùò Ìè¥ÎçîÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</h2>
                </div>
                <div class="groups-grid" id="groups-grid">
                    <div class="empty-state">
                        <div class="icon">üìÇ</div>
                        <p>Ï¢åÏ∏°ÏóêÏÑú ÌöåÏùò Ìè¥ÎçîÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</p>
                    </div>
                </div>
            </div>

            <!-- Group Timeline View -->
            <div class="view" id="group-view" style="display: none;">
                <div class="header">
                    <h2 id="group-title">Í∑∏Î£π</h2>
                    <div class="header-actions">
                        <button class="btn btn-secondary" id="back-to-folder">
                            ‚Üê Î™©Î°ùÏúºÎ°ú
                        </button>
                    </div>
                </div>
                
                <!-- Ïï°ÏÖò ÏïÑÏù¥ÌÖú Ìä∏ÎûòÏª§ -->
                <div class="action-tracker" id="action-tracker">
                    <div class="action-tracker-header">
                        <h4>üìã Ïï°ÏÖò ÏïÑÏù¥ÌÖú</h4>
                        <div class="action-stats">
                            <span class="stat-badge completed" id="stat-completed">‚úì 0</span>
                            <span class="stat-badge in-progress" id="stat-progress">‚óê 0</span>
                            <span class="stat-badge pending" id="stat-pending">‚óã 0</span>
                        </div>
                    </div>
                    <div class="action-list" id="action-list">
                        <div class="action-empty">
                            Ïï°ÏÖò ÏïÑÏù¥ÌÖúÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...
                        </div>
                    </div>
                </div>
                
                <div class="timeline-section" style="margin-top: 20px;">
                    <div class="timeline-header">
                        <h3>üìÖ ÌöåÏùòÎ°ù ÌÉÄÏûÑÎùºÏù∏</h3>
                        <span id="timeline-count" class="tag">0Í∞ú</span>
                    </div>
                    <div class="timeline" id="group-timeline">
                        <!-- ÌÉÄÏûÑÎùºÏù∏ ÏïÑÏù¥ÌÖúÎì§ -->
                    </div>
                </div>
            </div>

            <!-- Meeting Detail View -->
            <div class="view meeting-detail" id="meeting-detail-view">
                <div class="header">
                    <h2 id="meeting-detail-title">ÌöåÏùòÎ°ù ÏÉÅÏÑ∏</h2>
                    <div class="header-actions">
                        <button class="btn btn-secondary" id="back-to-group">
                            ‚Üê ÎèåÏïÑÍ∞ÄÍ∏∞
                        </button>
                    </div>
                </div>
                
                <!-- Ïù¥Ï†Ñ/Îã§Ïùå ÌöåÏùò ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
                <div class="meeting-nav" id="meeting-nav" style="display: none;">
                    <button class="nav-arrow prev" id="prev-meeting-btn" disabled>
                        <span class="arrow">‚Üê</span>
                        <div class="nav-info">
                            <span class="nav-label">Ïù¥Ï†Ñ ÌöåÏùò</span>
                            <span class="nav-date" id="prev-meeting-date">-</span>
                        </div>
                    </button>
                    <div class="nav-current">
                        <span id="current-meeting-index">1</span> / <span id="total-meetings-count">1</span>
                    </div>
                    <button class="nav-arrow next" id="next-meeting-btn" disabled>
                        <div class="nav-info">
                            <span class="nav-label">Îã§Ïùå ÌöåÏùò</span>
                            <span class="nav-date" id="next-meeting-date">-</span>
                        </div>
                        <span class="arrow">‚Üí</span>
                    </button>
                </div>
                
                <!-- ÌÉ≠ Ï†ÑÌôò -->
                <div class="tab-bar" style="display: flex; gap: 8px; margin-bottom: 16px;">
                    <button class="tab-btn active" data-tab="summary" id="tab-summary">
                        ‚ú® AI ÏöîÏïΩ
                    </button>
                    <button class="tab-btn" data-tab="original" id="tab-original">
                        üìÑ ÏõêÎ≥∏
                    </button>
                </div>
                
                <!-- AI ÏöîÏïΩ ÌÉ≠ -->
                <div class="tab-content" id="content-summary">
                    <div class="meeting-content" id="summary-content">
                        <div class="empty-state" id="summary-placeholder">
                            <div class="icon">‚ú®</div>
                            <p>ÏöîÏïΩÎ≥∏ÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ëÏûÖÎãàÎã§...</p>
                        </div>
                    </div>
                </div>
                
                <!-- ÏõêÎ≥∏ ÌÉ≠ -->
                <div class="tab-content" id="content-original" style="display: none;">
                    <div class="meeting-content" id="meeting-detail-content">
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Chat Panel -->
    <div class="chat-panel" id="chat-panel">
        <div class="chat-header">
            <h3>ü§ñ AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏</h3>
            <button class="close-btn" id="close-chat">√ó</button>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="chat-message assistant">
                <div class="bubble">
                    <strong>ÏïàÎÖïÌïòÏÑ∏Ïöî! ÌöåÏùòÎ°ù AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏ÏûÖÎãàÎã§.</strong><br><br>
                    ÏóÖÎ°úÎìúÎêú ÌöåÏùòÎ°ùÏùÑ Í∏∞Î∞òÏúºÎ°ú ÏßàÎ¨∏Ïóê ÎãµÎ≥ÄÌï¥ÎìúÎ¶ΩÎãàÎã§.<br>
                    ÎãµÎ≥Ä Ïãú Ï∞∏Í≥†Ìïú ÌöåÏùòÎ°ù Ï∂úÏ≤òÎèÑ Ìï®Íªò ÌëúÏãúÎê©ÎãàÎã§.<br><br>
                    <span style="color: var(--text-muted); font-size: 0.8rem;">
                    ÏòàÏãú ÏßàÎ¨∏:<br>
                    ‚Ä¢ "PalM ÌîÑÎ°úÏ†ùÌä∏ ÏµúÍ∑º ÌòÑÌô©ÏùÄ?"<br>
                    ‚Ä¢ "EHG ÎßàÏùºÏä§ÌÜ§ ÏùºÏ†ï ÏïåÎ†§Ï§ò"<br>
                    ‚Ä¢ "Í≤åÏûÑÌÜ°ÏóêÏÑú ÎÖºÏùòÎêú ÎÇ¥Ïö© ÏöîÏïΩÌï¥Ï§ò"
                    </span>
                </div>
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" class="chat-input" id="chat-input" placeholder="ÏßàÎ¨∏ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî...">
            <button class="chat-send" id="chat-send">‚û§</button>
        </div>
    </div>

    <script>
        // ==================== Data Store ====================
        const store = {
            meetings: [],
            folders: {},        // Ìè¥ÎçîÎ≥Ñ ÌöåÏùòÎ°ù
            groups: {},         // Ìè¥Îçî ÎÇ¥ Í∑∏Î£πÎ≥Ñ ÌöåÏùòÎ°ù
            currentFolder: null,
            currentGroup: null,
            previousView: null
        };

        const API_BASE = 'http://localhost:8000';
        let isServerConnected = false;

        // ==================== ÌååÏùºÎ™Ö Ìå®ÌÑ¥ÏóêÏÑú Í∑∏Î£π ÌÇ§ Ï∂îÏ∂ú ====================
        // ÌîÑÎ°úÏ†ùÌä∏Î™Ö Î≥ÑÏπ≠ Îß§Ìïë (Í∞ôÏùÄ ÌîÑÎ°úÏ†ùÌä∏Ïùò Îã§Î•∏ ÌëúÍ∏∞Î•º ÌÜµÏùº)
        const projectAliases = {
            'dincum': 'Îî©Ïª¥',
            'dinkum': 'Îî©Ïª¥',
            'ehg': 'Ehg',
            'sns': 'Sns',
            'palm': 'Palm',
        };

        // ÌîÑÎ°úÏ†ùÌä∏Î™Ö ÎåÄÏÜåÎ¨∏Ïûê ÌÜµÏùº Ìï®Ïàò (Ï≤´ Í∏ÄÏûê ÎåÄÎ¨∏Ïûê, ÎÇòÎ®∏ÏßÄ ÏÜåÎ¨∏Ïûê)
        function normalizeProjectName(name) {
            if (!name) return null;
            const lower = name.toLowerCase();
            // Î≥ÑÏπ≠ Îß§Ìïë ÌôïÏù∏
            if (projectAliases[lower]) {
                return projectAliases[lower];
            }
            return lower.charAt(0).toUpperCase() + lower.slice(1);
        }

        const groupingPatterns = {
            'S2_meeting': {
                // yymmdd S2_[ÌîÑÎ°úÏ†ùÌä∏Î™Ö].txt
                pattern: /S2_(.+?)\.txt$/i,
                getGroupKey: (filename) => {
                    const match = filename.match(/S2_(.+?)\.txt$/i);
                    return match ? normalizeProjectName(match[1]) : null;
                },
                label: 'ÌîÑÎ°úÏ†ùÌä∏'
            },
            'MR_meeting': {
                // yymmdd [ÌîÑÎ°úÏ†ùÌä∏Î™Ö]_[Ïú†Ìòï].txt ÎòêÎäî yymmdd_[ÌîÑÎ°úÏ†ùÌä∏Î™Ö]_[Ïú†Ìòï].txt
                pattern: /^\d{6}[_\s]+([A-Za-zÍ∞Ä-Ìû£]+)/,
                getGroupKey: (filename) => {
                    // ÎÇ†Ïßú(6ÏûêÎ¶¨) Îã§Ïùå Í≥µÎ∞± ÎòêÎäî Ïñ∏ÎçîÏä§ÏΩîÏñ¥ ÌõÑ Ï≤´ Î≤àÏß∏ ÌîÑÎ°úÏ†ùÌä∏Î™Ö Ï∂îÏ∂ú
                    const match = filename.match(/^\d{6}[_\s]+([A-Za-zÍ∞Ä-Ìû£]+)/);
                    if (match) {
                        return normalizeProjectName(match[1]);
                    }
                    // ÌÇ•Ïò§ÌîÑ Ìå®ÌÑ¥ÎèÑ ÏßÄÏõê
                    const kickoffMatch = filename.match(/([A-Za-zÍ∞Ä-Ìû£]+)_ÌÇ•Ïò§ÌîÑ/);
                    return kickoffMatch ? normalizeProjectName(kickoffMatch[1]) : null;
                },
                label: 'ÌîÑÎ°úÏ†ùÌä∏'
            },
            'Í≤åÏûÑÏû•Î•¥Î∂ÑÏÑù': {
                // yymmdd Í≤åÏûÑÏû•Î•¥Î∂ÑÏÑù_[Ïû•Î•¥Î™Ö].txt
                pattern: /Í≤åÏûÑÏû•Î•¥Î∂ÑÏÑù[_\s]*(.+?)\.txt$/i,
                getGroupKey: (filename) => {
                    const match = filename.match(/Í≤åÏûÑÏû•Î•¥Î∂ÑÏÑù[_\s]*(.+?)\.txt$/i);
                    return match ? match[1] : null;
                },
                label: 'Ïû•Î•¥'
            },
            '101': {
                // yymmdd [ÏÇ¨ÎûåÎ™Ö] 101.txt ÎòêÎäî yymmdd 101_[ÏÇ¨ÎûåÎ™Ö].txt
                pattern: /(?:(\S+)\s*101|101[_\s]*(\S+))\.txt$/i,
                getGroupKey: (filename) => {
                    // Ïà´Ïûê Ï†úÏô∏ÌïòÍ≥† Ïù¥Î¶Ñ Ï∂îÏ∂ú
                    const cleaned = filename.replace(/^\d+\s*/, '').replace(/\.txt$/i, '');
                    const match1 = cleaned.match(/^(.+?)\s*101$/);
                    const match2 = cleaned.match(/^101[_\s]*(.+)$/);
                    return match1 ? match1[1] : (match2 ? match2[1] : null);
                },
                label: 'Îã¥ÎãπÏûê'
            }
        };

        // Í∑∏Î£π ÌÇ§Í∞Ä ÏóÜÎäî Îã®Ïùº ÏãúÎ¶¨Ï¶à Ìè¥ÎçîÎì§
        const singleSeriesFolders = ['Í≤åÏûÑÌÜ°', 'Dashboard', 'Team weekly', 'Dept weekly', 'AI Study', 'MR Process'];

        function getGroupKey(filename, folderPath) {
            // Ìè¥Îçî Í≤ΩÎ°úÏóêÏÑú ÎßàÏßÄÎßâ Ìè¥ÎçîÎ™Ö Ï∂îÏ∂ú
            const folderName = folderPath.split(/[\/\\]/).filter(Boolean).pop();
            
            // Îã®Ïùº ÏãúÎ¶¨Ï¶à Ìè¥ÎçîÏù∏ Í≤ΩÏö∞
            if (singleSeriesFolders.some(f => folderPath.includes(f))) {
                return '_single_'; // Î™®Îì† ÌöåÏùòÎ°ùÏùÑ ÌïòÎÇòÏùò Í∑∏Î£πÏúºÎ°ú
            }

            // Ìå®ÌÑ¥ Îß§Ïπ≠ÏúºÎ°ú Í∑∏Î£π ÌÇ§ Ï∂îÏ∂ú
            for (const [key, config] of Object.entries(groupingPatterns)) {
                if (folderPath.includes(key)) {
                    const groupKey = config.getGroupKey(filename);
                    if (groupKey) return groupKey;
                }
            }

            // ÎπÑÏ†ïÍ∏∞ÌöåÏùò Îì± Í∑∏Î£πÌôî Î∂àÍ∞ÄÎä•Ìïú Í≤ΩÏö∞ ÌååÏùºÎ™Ö ÏûêÏ≤¥Î•º ÌÇ§Î°ú
            return filename.replace(/^\d+\s*/, '').replace(/\.txt$/i, '').trim() || filename;
        }

        // ==================== Îç∞Ïù¥ÌÑ∞ Î°úÎìú ====================
        async function loadDataFromServer() {
            try {
                const response = await fetch(`${API_BASE}/api/meetings`);
                if (!response.ok) throw new Error('Failed to load meetings');
                
                const meetings = await response.json();
                store.meetings = meetings;
                isServerConnected = true;

                // Ìè¥ÎçîÎ≥Ñ, Í∑∏Î£πÎ≥Ñ Ï†ïÎ¶¨
                organizeMeetings();
                renderFolderNav();
                
                // ÎåÄÏãúÎ≥¥Îìú Î†åÎçîÎßÅ
                renderDashboard();
                
                showNotification(`${meetings.length}Í∞ú ÌöåÏùòÎ°ù Î°úÎìú ÏôÑÎ£å`, 'success');
            } catch (error) {
                console.error('Load error:', error);
                isServerConnected = false;
                showNotification('ÏÑúÎ≤Ñ Ïó∞Í≤∞ Ïã§Ìå®. python backend.py Ïã§Ìñâ ÌïÑÏöî', 'error');
            }
        }

        // ==================== Dashboard ====================
        let currentDashboardDate = new Date();

        function renderDashboard() {
            updateMonthDisplay();
            renderMiniCalendar();
            renderProjectChart();
            renderRecentMeetings();
            renderActionSummary();
            renderWorklog();
        }

        function updateMonthDisplay() {
            const year = currentDashboardDate.getFullYear();
            const month = currentDashboardDate.getMonth() + 1;
            document.getElementById('current-month').textContent = `${year}ÎÖÑ ${month}Ïõî`;
        }

        function getMonthMeetings() {
            const year = currentDashboardDate.getFullYear();
            const month = currentDashboardDate.getMonth();
            
            return store.meetings.filter(m => {
                const meetingDate = new Date(m.date);
                return meetingDate.getFullYear() === year && meetingDate.getMonth() === month;
            });
        }

        function renderMiniCalendar() {
            const calendar = document.getElementById('mini-calendar');
            const year = currentDashboardDate.getFullYear();
            const month = currentDashboardDate.getMonth();
            
            // ÏõîÏùò Ï≤´Ïß∏ ÎÇ†Í≥º ÎßàÏßÄÎßâ ÎÇ†
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDay = firstDay.getDay(); // 0=Ïùº, 1=Ïõî...
            
            // Ìï¥Îãπ ÏõîÏùò ÌöåÏùò ÎÇ†ÏßúÎ≥Ñ Ïπ¥Ïö¥Ìä∏
            const monthMeetings = getMonthMeetings();
            const meetingsByDay = {};
            monthMeetings.forEach(m => {
                const day = new Date(m.date).getDate();
                meetingsByDay[day] = (meetingsByDay[day] || 0) + 1;
            });

            const today = new Date();
            const isCurrentMonth = today.getFullYear() === year && today.getMonth() === month;

            // Ìó§Îçî
            let html = ['Ïùº', 'Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†']
                .map(d => `<div class="cal-header">${d}</div>`).join('');

            // Îπà Ïπ∏ (Ïù¥Ï†Ñ Îã¨)
            for (let i = 0; i < startDay; i++) {
                html += `<div class="cal-day other-month"></div>`;
            }

            // ÏóÖÎ¨¥ÏùºÏßÄ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞
            const worklogData = getWorklogData();

            // ÎÇ†Ïßú
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const count = meetingsByDay[day] || 0;
                const isToday = isCurrentMonth && today.getDate() === day;
                
                // Ìï¥Îãπ ÎÇ†ÏßúÏóê ÏóÖÎ¨¥ÏùºÏßÄÍ∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏
                const dateKey = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const hasWorklog = worklogData[dateKey] && (worklogData[dateKey].items.length > 0 || worklogData[dateKey].memo);
                
                let classes = 'cal-day';
                if (isToday) classes += ' today';
                if (hasWorklog) classes += ' has-worklog';

                // ÌöåÏùò Í∞úÏàòÎßåÌÅº Ï†ê ÏÉùÏÑ± (ÏµúÎåÄ 5Í∞úÍπåÏßÄ ÌëúÏãú)
                let dotsHtml = '';
                let indicators = '';
                
                if (count > 0) {
                    const displayCount = Math.min(count, 5);
                    let dots = '';
                    for (let i = 0; i < displayCount; i++) {
                        // 4Í∞ú Ïù¥ÏÉÅÏùÄ Ï£ºÌô©ÏÉâ Ï†ê
                        const dotClass = i >= 3 ? 'meeting-dot extra' : 'meeting-dot';
                        dots += `<span class="${dotClass}"></span>`;
                    }
                    indicators += dots;
                }
                
                // ÏóÖÎ¨¥ÏùºÏßÄ ÌëúÏãú (ÏûëÏùÄ ÏÇ¨Í∞ÅÌòï)
                if (hasWorklog) {
                    indicators += `<span class="worklog-dot"></span>`;
                }
                
                if (indicators) {
                    dotsHtml = `<div class="meeting-dots">${indicators}</div>`;
                }

                const tooltipText = count > 0 ? `${count}Í±¥Ïùò ÌöåÏùò` : '';
                const worklogTooltip = hasWorklog ? (tooltipText ? ', ÏóÖÎ¨¥ÏùºÏßÄ' : 'ÏóÖÎ¨¥ÏùºÏßÄ') : '';
                
                html += `<div class="${classes}" data-day="${day}" data-count="${count}" title="${tooltipText}${worklogTooltip}">${day}${dotsHtml}</div>`;
            }

            calendar.innerHTML = html;

            // ÎÇ†Ïßú ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
            calendar.querySelectorAll('.cal-day[data-day]').forEach(el => {
                el.addEventListener('click', () => {
                    const day = parseInt(el.dataset.day);
                    showDayMeetings(year, month, day);
                });
            });
        }

        function showDayMeetings(year, month, day) {
            const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
            const dayMeetings = store.meetings.filter(m => m.date === dateStr);
            
            // ÏóÖÎ¨¥ÏùºÏßÄÎèÑ Ìï¥Îãπ ÎÇ†ÏßúÎ°ú Ï†ÑÌôò
            goToWorklogDate(year, month, day);
            
            // Ìï¥Îãπ ÎÇ†ÏßúÏóê ÌöåÏùòÏôÄ ÏóÖÎ¨¥ÏùºÏßÄ Ï†ïÎ≥¥Î•º Î™®Îã¨Î°ú ÌëúÏãú
            showDayDetailModal(year, month, day, dayMeetings);
        }

        function showDayDetailModal(year, month, day, meetings) {
            // Í∏∞Ï°¥ Î™®Îã¨ Ï†úÍ±∞
            const existingModal = document.querySelector('.day-meetings-modal');
            if (existingModal) existingModal.remove();

            const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
            const worklogData = getWorklogData();
            const worklog = worklogData[dateStr] || { items: [], memo: '' };
            const hasWorklog = worklog.items.length > 0 || worklog.memo;

            const modal = document.createElement('div');
            modal.className = 'day-meetings-modal';
            
            let content = `
                <div class="day-meetings-content">
                    <div class="day-meetings-header">
                        <h3>üìÖ ${month + 1}Ïõî ${day}Ïùº</h3>
                        <button class="day-meetings-close">&times;</button>
                    </div>
            `;

            // ÌöåÏùò ÏÑπÏÖò
            content += `<div class="day-section">
                <div class="day-section-title">üìã ÌöåÏùò (${meetings.length}Í±¥)</div>`;
            
            if (meetings.length === 0) {
                content += `<div class="day-empty">Îì±Î°ùÎêú ÌöåÏùòÍ∞Ä ÏóÜÏäµÎãàÎã§.</div>`;
            } else {
                content += `<div class="day-meetings-list">
                    ${meetings.map(m => `
                        <div class="day-meeting-item" data-id="${m.id}">
                            <div class="day-meeting-info">
                                <span class="day-meeting-title">${m.title}</span>
                                <span class="day-meeting-folder">${m.folder}</span>
                            </div>
                            <span class="day-meeting-badge">${m.summary_content ? '‚ú® ÏöîÏïΩ' : 'üìÑ ÏõêÎ≥∏'}</span>
                        </div>
                    `).join('')}
                </div>`;
            }
            content += `</div>`;

            // ÏóÖÎ¨¥ÏùºÏßÄ ÏÑπÏÖò
            content += `<div class="day-section">
                <div class="day-section-title">üìù ÏóÖÎ¨¥ÏùºÏßÄ</div>`;
            
            if (!hasWorklog) {
                content += `<div class="day-empty">Îì±Î°ùÎêú ÏóÖÎ¨¥Í∞Ä ÏóÜÏäµÎãàÎã§.</div>`;
            } else {
                if (worklog.items.length > 0) {
                    content += `<div class="day-worklog-items">
                        ${worklog.items.map(item => `
                            <div class="day-worklog-item ${item.status}">
                                <span class="day-worklog-status">${item.status === 'completed' ? '‚úì' : item.status === 'in_progress' ? '‚óê' : '‚óã'}</span>
                                <span class="day-worklog-text">${escapeHtml(item.content)}</span>
                            </div>
                        `).join('')}
                    </div>`;
                }
                if (worklog.memo) {
                    content += `<div class="day-worklog-memo">
                        <span class="memo-label">üí¨ Î©îÎ™®:</span>
                        <span class="memo-text">${escapeHtml(worklog.memo)}</span>
                    </div>`;
                }
            }
            content += `</div>`;

            // ÏóÖÎ¨¥ÏùºÏßÄ Ìé∏Ïßë Î≤ÑÌäº
            content += `<div class="day-modal-actions">
                <button class="day-edit-worklog-btn">‚úèÔ∏è ÏóÖÎ¨¥ÏùºÏßÄ Ìé∏Ïßë</button>
            </div>`;

            content += `</div>`;
            modal.innerHTML = content;

            document.body.appendChild(modal);

            // Îã´Í∏∞ Î≤ÑÌäº
            modal.querySelector('.day-meetings-close').addEventListener('click', () => modal.remove());

            // Î∞∞Í≤Ω ÌÅ¥Î¶≠ÏúºÎ°ú Îã´Í∏∞
            modal.addEventListener('click', (e) => {
                if (e.target === modal) modal.remove();
            });

            // ÌöåÏùò ÏÑ†ÌÉù
            modal.querySelectorAll('.day-meeting-item').forEach(item => {
                item.addEventListener('click', () => {
                    const meetingId = item.dataset.id;
                    modal.remove();
                    showMeetingDetail(meetingId);
                });
            });

            // ÏóÖÎ¨¥ÏùºÏßÄ Ìé∏Ïßë Î≤ÑÌäº
            modal.querySelector('.day-edit-worklog-btn').addEventListener('click', () => {
                modal.remove();
                isWorklogEditMode = true;
                renderWorklog();
                // Ïä§ÌÅ¨Î°§ÏùÑ ÏóÖÎ¨¥ÏùºÏßÄ Ïπ¥ÎìúÎ°ú Ïù¥Îèô
                document.querySelector('.worklog-card').scrollIntoView({ behavior: 'smooth', block: 'center' });
            });
        }

        // Í∏∞Ï°¥ Ìï®Ïàò Ìò∏ÌôòÏÑ± Ïú†ÏßÄ
        function showDayMeetingsModal(year, month, day, meetings) {
            showDayDetailModal(year, month, day, meetings);
        }

        function renderProjectChart() {
            const chart = document.getElementById('project-chart');
            
            // Ï†ÑÏ≤¥ Í∏∞Í∞Ñ S2 ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ ÏßëÍ≥Ñ (ÎåÄÏÜåÎ¨∏Ïûê Íµ¨Î∂Ñ ÏóÜÏù¥ ÌÜµÏùº)
            const s2Meetings = store.meetings.filter(m => m.folder === 'S2_meeting');
            const projectCounts = {};
            
            s2Meetings.forEach(m => {
                // ÎåÄÏÜåÎ¨∏Ïûê ÌÜµÏùº: Ï≤´ Í∏ÄÏûê ÎåÄÎ¨∏Ïûê, ÎÇòÎ®∏ÏßÄ ÏÜåÎ¨∏Ïûê
                const rawProject = m.project || 'Í∏∞ÌÉÄ';
                const project = rawProject === 'Í∏∞ÌÉÄ' ? rawProject : normalizeProjectName(rawProject);
                projectCounts[project] = (projectCounts[project] || 0) + 1;
            });

            const maxCount = Math.max(...Object.values(projectCounts), 1);
            
            // Ï†ïÎ†¨: Ïπ¥Ïö¥Ìä∏ ÎÜíÏùÄ Ïàú
            const sorted = Object.entries(projectCounts).sort((a, b) => b[1] - a[1]);

            if (sorted.length === 0) {
                chart.innerHTML = `<div style="color: var(--text-muted); font-size: 0.85rem; text-align: center; padding: 20px;">S2 ÌîÑÎ°úÏ†ùÌä∏ ÌöåÏùòÍ∞Ä ÏóÜÏäµÎãàÎã§.</div>`;
                return;
            }

            chart.innerHTML = sorted.map(([project, count]) => {
                const width = (count / maxCount) * 100;
                return `
                    <div class="project-bar">
                        <span class="project-name" title="${project}">${project}</span>
                        <div class="project-bar-bg">
                            <div class="project-bar-fill" style="width: ${Math.max(width, 10)}%">
                                ${count > 0 ? `<span>${count}</span>` : ''}
                            </div>
                        </div>
                        <span class="project-count">${count}</span>
                    </div>
                `;
            }).join('');
        }

        function renderRecentMeetings() {
            const container = document.getElementById('recent-meetings');
            
            // ÏµúÍ∑º 5Í∞ú
            const recent = [...store.meetings]
                .sort((a, b) => b.date.localeCompare(a.date))
                .slice(0, 5);

            if (recent.length === 0) {
                container.innerHTML = `<div style="color: var(--text-muted); text-align: center; padding: 20px;">ÌöåÏùòÎ°ùÏù¥ ÏóÜÏäµÎãàÎã§.</div>`;
                return;
            }

            container.innerHTML = recent.map(m => {
                const dateDisplay = m.date.replace(/^\d{4}-/, '').replace('-', '/');
                return `
                    <div class="recent-meeting-item" data-id="${m.id}">
                        <span class="recent-date">${dateDisplay}</span>
                        <div class="recent-info">
                            <div class="recent-title">${m.title}</div>
                            <div class="recent-folder">${m.folder}</div>
                        </div>
                    </div>
                `;
            }).join('');

            container.querySelectorAll('.recent-meeting-item').forEach(el => {
                el.addEventListener('click', () => showMeetingDetail(el.dataset.id));
            });
        }

        function renderActionSummary() {
            const container = document.getElementById('action-summary');
            const storedStates = getStoredActionStates();
            
            // Î™®Îì† ÌöåÏùòÎ°ùÏóêÏÑú Ïï°ÏÖò ÏïÑÏù¥ÌÖú ÏàòÏßë
            let allActions = [];
            store.meetings.forEach(m => {
                if (m.summary_content) {
                    const items = extractActionItems(m.summary_content, m.title, m.date);
                    items.forEach(item => {
                        if (storedStates[item.id]) {
                            item.status = storedStates[item.id];
                        }
                        allActions.push(item);
                    });
                }
            });

            // ÏµúÍ∑º Í≤ÉÎßå (ÏµúÎåÄ 10Í∞ú)
            allActions = allActions.sort((a, b) => b.date.localeCompare(a.date)).slice(0, 10);

            const pending = allActions.filter(a => a.status === 'pending').length;
            const progress = allActions.filter(a => a.status === 'in-progress').length;
            const done = allActions.filter(a => a.status === 'completed').length;

            let html = `
                <div class="action-summary-stats">
                    <div class="action-stat"><i class="dot pending"></i> ÎåÄÍ∏∞ ${pending}</div>
                    <div class="action-stat"><i class="dot progress"></i> ÏßÑÌñâ ${progress}</div>
                    <div class="action-stat"><i class="dot done"></i> ÏôÑÎ£å ${done}</div>
                </div>
                <div class="action-summary-list">
            `;

            if (allActions.length === 0) {
                html += `<div style="color: var(--text-muted); text-align: center; padding: 10px;">Ïï°ÏÖò ÏïÑÏù¥ÌÖúÏù¥ ÏóÜÏäµÎãàÎã§.</div>`;
            } else {
                allActions.slice(0, 5).forEach(action => {
                    const icon = action.status === 'completed' ? '‚úì' : 
                                 action.status === 'in-progress' ? '‚óê' : '‚óã';
                    html += `
                        <div class="action-summary-item">
                            <span class="status-icon">${icon}</span>
                            <span class="action-text">${action.text}</span>
                            <span class="action-source">${action.source.substring(0, 15)}...</span>
                        </div>
                    `;
                });
            }

            html += `</div>`;
            container.innerHTML = html;
        }

        // ========== ÏóÖÎ¨¥ÏùºÏßÄ (Work Log) Í∏∞Îä• ==========
        
        const WORKLOG_STORAGE_KEY = 'meeting_tracker_worklog';
        let currentWorklogDate = new Date(); // ÌòÑÏû¨ ÏÑ†ÌÉùÎêú ÏóÖÎ¨¥ÏùºÏßÄ ÎÇ†Ïßú
        let isWorklogEditMode = false; // Ìé∏Ïßë Î™®Îìú Ïó¨Î∂Ä
        
        function getTodayString() {
            const today = new Date();
            return `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
        }

        function getDateString(date) {
            return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
        }

        function isToday(date) {
            const today = new Date();
            return date.getFullYear() === today.getFullYear() &&
                   date.getMonth() === today.getMonth() &&
                   date.getDate() === today.getDate();
        }

        function getWorklogData() {
            try {
                const data = localStorage.getItem(WORKLOG_STORAGE_KEY);
                return data ? JSON.parse(data) : {};
            } catch (e) {
                return {};
            }
        }

        function saveWorklogData(data) {
            localStorage.setItem(WORKLOG_STORAGE_KEY, JSON.stringify(data));
        }

        function getWorklogForDate(dateStr) {
            const data = getWorklogData();
            if (!data[dateStr]) {
                return { items: [], memo: '' };
            }
            return data[dateStr];
        }

        function renderWorklog() {
            const container = document.getElementById('worklog-items');
            const memoArea = document.getElementById('worklog-memo');
            const dateDisplay = document.getElementById('worklog-date');
            const inputArea = document.getElementById('worklog-input-area');
            const editBtn = document.getElementById('worklog-edit-btn');
            const todayBtn = document.getElementById('worklog-today-btn');
            
            // ÎÇ†Ïßú ÌëúÏãú
            const days = ['Ïùº', 'Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†'];
            const month = currentWorklogDate.getMonth() + 1;
            const day = currentWorklogDate.getDate();
            const dayName = days[currentWorklogDate.getDay()];
            dateDisplay.textContent = `${month}Ïõî ${day}Ïùº (${dayName})`;
            
            // Ïò§ÎäòÏù∏ÏßÄ ÌôïÏù∏
            const isTodayDate = isToday(currentWorklogDate);
            todayBtn.classList.toggle('active', isTodayDate);
            
            // Ìï¥Îãπ ÎÇ†Ïßú ÏóÖÎ¨¥ÏùºÏßÄ Î°úÎìú
            const dateStr = getDateString(currentWorklogDate);
            const worklog = getWorklogForDate(dateStr);
            
            // Ìé∏Ïßë Î™®Îìú UI ÏóÖÎç∞Ïù¥Ìä∏
            editBtn.classList.toggle('editing', isWorklogEditMode);
            editBtn.textContent = isWorklogEditMode ? '‚úì ÏôÑÎ£å' : '‚úèÔ∏è Ìé∏Ïßë';
            inputArea.classList.toggle('hidden', !isWorklogEditMode);
            memoArea.disabled = !isWorklogEditMode;
            
            // Î©îÎ™® Î°úÎìú
            memoArea.value = worklog.memo || '';
            
            // ÏóÖÎ¨¥ Î™©Î°ù Î†åÎçîÎßÅ
            if (worklog.items.length === 0) {
                const emptyMsg = isWorklogEditMode 
                    ? 'ÏóÖÎ¨¥ ÎÇ¥Ïö©ÏùÑ Ï∂îÍ∞ÄÌï¥Î≥¥ÏÑ∏Ïöî ‚ú®' 
                    : 'Îì±Î°ùÎêú ÏóÖÎ¨¥Í∞Ä ÏóÜÏäµÎãàÎã§.';
                container.innerHTML = `<div class="worklog-empty">${emptyMsg}</div>`;
                return;
            }

            container.innerHTML = worklog.items.map((item, index) => `
                <div class="worklog-item ${item.status}" data-index="${index}">
                    <div class="worklog-status ${item.status}" data-index="${index}" title="ÌÅ¥Î¶≠ÌïòÏó¨ ÏÉÅÌÉú Î≥ÄÍ≤Ω">
                        ${item.status === 'completed' ? '‚úì' : item.status === 'in_progress' ? '‚óê' : ''}
                    </div>
                    <span class="worklog-content">${escapeHtml(item.content)}</span>
                    ${isWorklogEditMode ? `<button class="worklog-delete" data-index="${index}" title="ÏÇ≠Ï†ú">√ó</button>` : ''}
                </div>
            `).join('');

            // ÏÉÅÌÉú Î≥ÄÍ≤Ω Ïù¥Î≤§Ìä∏
            container.querySelectorAll('.worklog-status').forEach(el => {
                el.addEventListener('click', () => {
                    const index = parseInt(el.dataset.index);
                    cycleWorklogStatus(index);
                });
            });

            // ÏÇ≠Ï†ú Ïù¥Î≤§Ìä∏ (Ìé∏Ïßë Î™®ÎìúÏóêÏÑúÎßå)
            if (isWorklogEditMode) {
                container.querySelectorAll('.worklog-delete').forEach(el => {
                    el.addEventListener('click', () => {
                        const index = parseInt(el.dataset.index);
                        deleteWorklogItem(index);
                    });
                });
            }
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function addWorklogItem(content) {
            if (!content.trim()) return;
            
            const data = getWorklogData();
            const dateStr = getDateString(currentWorklogDate);
            
            if (!data[dateStr]) {
                data[dateStr] = { items: [], memo: '' };
            }
            
            data[dateStr].items.push({
                id: `wl_${Date.now()}`,
                content: content.trim(),
                status: 'pending',
                createdAt: new Date().toISOString()
            });
            
            saveWorklogData(data);
            renderWorklog();
            renderMiniCalendar(); // Ï∫òÎ¶∞ÎçîÏóê ÏóÖÎ¨¥ÏùºÏßÄ ÌëúÏãú ÏóÖÎç∞Ïù¥Ìä∏
        }

        function cycleWorklogStatus(index) {
            const data = getWorklogData();
            const dateStr = getDateString(currentWorklogDate);
            
            if (!data[dateStr] || !data[dateStr].items[index]) return;
            
            const statusCycle = ['pending', 'in_progress', 'completed'];
            const currentStatus = data[dateStr].items[index].status;
            const currentIndex = statusCycle.indexOf(currentStatus);
            const nextIndex = (currentIndex + 1) % statusCycle.length;
            
            data[dateStr].items[index].status = statusCycle[nextIndex];
            saveWorklogData(data);
            renderWorklog();
        }

        function deleteWorklogItem(index) {
            const data = getWorklogData();
            const dateStr = getDateString(currentWorklogDate);
            
            if (!data[dateStr] || !data[dateStr].items[index]) return;
            
            data[dateStr].items.splice(index, 1);
            saveWorklogData(data);
            renderWorklog();
            renderMiniCalendar(); // Ï∫òÎ¶∞Îçî ÏóÖÎç∞Ïù¥Ìä∏
        }

        function saveWorklogMemo(memo) {
            const data = getWorklogData();
            const dateStr = getDateString(currentWorklogDate);
            
            if (!data[dateStr]) {
                data[dateStr] = { items: [], memo: '' };
            }
            
            data[dateStr].memo = memo;
            saveWorklogData(data);
            renderMiniCalendar(); // Ï∫òÎ¶∞Îçî ÏóÖÎç∞Ïù¥Ìä∏
        }

        function changeWorklogDate(days) {
            currentWorklogDate.setDate(currentWorklogDate.getDate() + days);
            isWorklogEditMode = false; // ÎÇ†Ïßú Î≥ÄÍ≤Ω Ïãú Ìé∏Ïßë Î™®Îìú Ìï¥Ï†ú
            renderWorklog();
        }

        function goToWorklogDate(year, month, day) {
            currentWorklogDate = new Date(year, month, day);
            isWorklogEditMode = false; // ÎÇ†Ïßú Î≥ÄÍ≤Ω Ïãú Ìé∏Ïßë Î™®Îìú Ìï¥Ï†ú
            renderWorklog();
        }

        function goToTodayWorklog() {
            currentWorklogDate = new Date();
            isWorklogEditMode = false;
            renderWorklog();
        }

        function toggleWorklogEditMode() {
            isWorklogEditMode = !isWorklogEditMode;
            renderWorklog();
        }

        // ÏóÖÎ¨¥ÏùºÏßÄ Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà ÏÑ§Ï†ï
        function setupWorklogEvents() {
            const input = document.getElementById('worklog-input');
            const addBtn = document.getElementById('worklog-add-btn');
            const memoArea = document.getElementById('worklog-memo');
            const memoToggle = document.getElementById('worklog-memo-toggle');
            const prevDayBtn = document.getElementById('worklog-prev-day');
            const nextDayBtn = document.getElementById('worklog-next-day');
            const todayBtn = document.getElementById('worklog-today-btn');
            const editBtn = document.getElementById('worklog-edit-btn');

            // ÎÇ†Ïßú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
            prevDayBtn.addEventListener('click', () => changeWorklogDate(-1));
            nextDayBtn.addEventListener('click', () => changeWorklogDate(1));
            todayBtn.addEventListener('click', goToTodayWorklog);

            // Ìé∏Ïßë Î™®Îìú ÌÜ†Í∏Ä
            editBtn.addEventListener('click', toggleWorklogEditMode);

            // ÏóÖÎ¨¥ Ï∂îÍ∞Ä Î≤ÑÌäº
            addBtn.addEventListener('click', () => {
                addWorklogItem(input.value);
                input.value = '';
                input.focus();
            });

            // Enter ÌÇ§Î°ú Ï∂îÍ∞Ä
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    addWorklogItem(input.value);
                    input.value = '';
                }
            });

            // Î©îÎ™® Ï†ÄÏû• (ÎîîÎ∞îÏö¥Ïä§)
            let memoTimeout;
            memoArea.addEventListener('input', () => {
                clearTimeout(memoTimeout);
                memoTimeout = setTimeout(() => {
                    saveWorklogMemo(memoArea.value);
                }, 500);
            });

            // Î©îÎ™® ÌÜ†Í∏Ä
            memoToggle.addEventListener('click', () => {
                memoToggle.classList.toggle('collapsed');
                memoArea.classList.toggle('collapsed');
            });
        }

        // Ïõî Î≥ÄÍ≤Ω
        document.getElementById('prev-month').addEventListener('click', () => {
            currentDashboardDate.setMonth(currentDashboardDate.getMonth() - 1);
            renderDashboard();
        });

        document.getElementById('next-month').addEventListener('click', () => {
            currentDashboardDate.setMonth(currentDashboardDate.getMonth() + 1);
            renderDashboard();
        });

        function organizeMeetings() {
            store.folders = {};
            store.groups = {};

            store.meetings.forEach(meeting => {
                const folder = meeting.folder || 'Í∏∞ÌÉÄ';
                
                // Ìè¥ÎçîÎ≥Ñ Ï†ïÎ¶¨
                if (!store.folders[folder]) {
                    store.folders[folder] = [];
                }
                store.folders[folder].push(meeting);

                // Í∑∏Î£πÎ≥Ñ Ï†ïÎ¶¨ (Ìè¥Îçî ÎÇ¥ÏóêÏÑú)
                const groupKey = getGroupKey(meeting.filename, folder);
                const groupId = `${folder}::${groupKey}`;
                
                if (!store.groups[groupId]) {
                    store.groups[groupId] = {
                        folder: folder,
                        groupKey: groupKey,
                        meetings: []
                    };
                }
                store.groups[groupId].meetings.push(meeting);
            });

            // Í∞Å Í∑∏Î£π ÎÇ¥ ÌöåÏùòÎ°ùÏùÑ ÎÇ†ÏßúÏàú Ï†ïÎ†¨
            Object.values(store.groups).forEach(group => {
                group.meetings.sort((a, b) => new Date(b.date) - new Date(a.date));
            });
        }

        // ==================== Î†åÎçîÎßÅ ====================
        function renderFolderNav() {
            const nav = document.getElementById('folder-nav');
            
            // Ìè¥Îçî ÏïÑÏù¥ÏΩò Îß§Ìïë
            const folderIcons = {
                'MR_meeting': 'üéØ',
                'S2_meeting': 'üöÄ',
                'ÎπÑÏ†ïÍ∏∞ÌöåÏùò': 'üìå',
                'Í∏∞ÌÉÄ': 'üìÅ'
            };

            // MR_Team ÌïòÏúÑ Ìè¥Îçî ÏïÑÏù¥ÏΩò Îß§Ìïë
            const mrTeamIcons = {
                '101': 'üë§',
                'AI Study': 'ü§ñ',
                'Dashboard': 'üìä',
                'Dept weekly': 'üè¢',
                'MR Process': '‚öôÔ∏è',
                'MR ÎîúÎ¶¨Î≤ÑÎ¶¨ Î¶¨Î∑∞': 'üì¶',
                'Team weekly': 'üë•',
                'Í≤åÏûÑÏû•Î•¥Î∂ÑÏÑù': 'üéÆ',
                'Í≤åÏûÑÌÜ°': 'üí¨',
                'Í∏∞ÌÉÄ': 'üìÅ'
            };

            // MR_Team ÌïòÏúÑ Ìè¥Îçî Ï†ïÎ¶¨
            const mrTeamSubfolders = {};
            const mainFolders = {};
            let mrTeamTotalCount = 0;

            Object.keys(store.folders).forEach(folder => {
                if (folder.startsWith('MR_Team/')) {
                    // MR_Team ÌïòÏúÑ Ìè¥ÎçîÎì§ - "MR_Team/ÌïòÏúÑÌè¥ÎçîÎ™Ö" ÌòïÌÉú
                    const subName = folder.replace('MR_Team/', '');
                    mrTeamSubfolders[subName] = {
                        fullPath: folder,
                        meetings: store.folders[folder]
                    };
                    mrTeamTotalCount += store.folders[folder].length;
                } else {
                    mainFolders[folder] = store.folders[folder];
                }
            });

            let html = '';

            // MR_meeting
            if (mainFolders['MR_meeting']) {
                const count = mainFolders['MR_meeting'].length;
                html += `
                    <div class="nav-item" data-folder="MR_meeting">
                        <span>üéØ</span>
                        <span>MR meeting</span>
                        <span class="badge">${count}</span>
                    </div>
                `;
            }

            // MR_Team (Ï†ëÍ∏∞/ÌéºÏπòÍ∏∞)
            const subfolderNames = Object.keys(mrTeamSubfolders);
            if (subfolderNames.length > 0) {
                html += `
                    <div class="nav-folder" id="mr-team-folder">
                        <span>üì¶</span>
                        <span>MR Team</span>
                        <span class="badge">${mrTeamTotalCount}</span>
                    </div>
                    <div class="nav-folder-children" id="mr-team-children">
                `;
                
                // Ï†ïÎ†¨Îêú ÏàúÏÑúÎ°ú ÌëúÏãú
                subfolderNames.sort().forEach(subName => {
                    const data = mrTeamSubfolders[subName];
                    const count = data.meetings.length;
                    const icon = mrTeamIcons[subName] || 'üìÑ';
                    
                    if (count > 0) {
                        html += `
                            <div class="nav-item" data-folder="${data.fullPath}">
                                <span>${icon}</span>
                                <span>${subName}</span>
                                <span class="badge">${count}</span>
                            </div>
                        `;
                    }
                });
                
                html += `</div>`;
            }

            // S2_meeting
            if (mainFolders['S2_meeting']) {
                const count = mainFolders['S2_meeting'].length;
                html += `
                    <div class="nav-item" data-folder="S2_meeting">
                        <span>üöÄ</span>
                        <span>S2 meeting</span>
                        <span class="badge">${count}</span>
                    </div>
                `;
            }

            // ÎπÑÏ†ïÍ∏∞ÌöåÏùò
            if (mainFolders['ÎπÑÏ†ïÍ∏∞ÌöåÏùò']) {
                const count = mainFolders['ÎπÑÏ†ïÍ∏∞ÌöåÏùò'].length;
                html += `
                    <div class="nav-item" data-folder="ÎπÑÏ†ïÍ∏∞ÌöåÏùò">
                        <span>üìå</span>
                        <span>ÎπÑÏ†ïÍ∏∞ÌöåÏùò</span>
                        <span class="badge">${count}</span>
                    </div>
                `;
            }

            nav.innerHTML = html;

            // MR_Team Ìè¥Îçî ÌÜ†Í∏Ä Ïù¥Î≤§Ìä∏
            const mrTeamFolder = document.getElementById('mr-team-folder');
            const mrTeamChildren = document.getElementById('mr-team-children');
            if (mrTeamFolder && mrTeamChildren) {
                mrTeamFolder.addEventListener('click', () => {
                    mrTeamFolder.classList.toggle('expanded');
                    mrTeamChildren.classList.toggle('show');
                });
            }

            // ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
            nav.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', () => {
                    nav.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                    document.getElementById('nav-dashboard').classList.remove('active');
                    item.classList.add('active');
                    showFolder(item.dataset.folder);
                });
            });
        }

        function showDashboard() {
            // ÎåÄÏãúÎ≥¥Îìú ÌëúÏãú
            document.getElementById('dashboard-view').style.display = 'block';
            document.getElementById('folder-view').style.display = 'none';
            document.getElementById('group-view').style.display = 'none';
            document.getElementById('meeting-detail-view').classList.remove('active');

            // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÌôúÏÑ±Ìôî ÏÉÅÌÉú Î≥ÄÍ≤Ω
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            document.getElementById('nav-dashboard').classList.add('active');

            store.currentFolder = null;
            store.currentGroup = null;

            renderDashboard();
        }

        function showFolder(folderName) {
            store.currentFolder = folderName;
            
            // ÎåÄÏãúÎ≥¥Îìú Ïà®Í∏∞Í≥† Ìè¥Îçî Î∑∞ ÌëúÏãú
            document.getElementById('dashboard-view').style.display = 'none';
            document.getElementById('folder-view').style.display = 'block';
            document.getElementById('group-view').style.display = 'none';
            document.getElementById('meeting-detail-view').classList.remove('active');

            // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÌôúÏÑ±Ìôî ÏÉÅÌÉú Î≥ÄÍ≤Ω
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            const navItem = document.querySelector(`.nav-item[data-folder="${folderName}"]`);
            if (navItem) navItem.classList.add('active');

            document.getElementById('folder-title').textContent = `üìÅ ${folderName}`;

            // Ìï¥Îãπ Ìè¥ÎçîÏùò Í∑∏Î£πÎì§ Ï∞æÍ∏∞
            const folderGroups = Object.entries(store.groups)
                .filter(([id, group]) => {
                    // Ìè¥ÎçîÎ™ÖÏù¥ Ìè¨Ìï®Îêú Í∑∏Î£π Ï∞æÍ∏∞
                    return group.folder === folderName || 
                           group.folder.includes(folderName) ||
                           id.includes(folderName);
                })
                .map(([id, group]) => ({ id, ...group }));

            renderGroupCards(folderGroups);
        }

        function renderGroupCards(groups) {
            const grid = document.getElementById('groups-grid');

            if (groups.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state">
                        <div class="icon">üì≠</div>
                        <p>Ïù¥ Ìè¥ÎçîÏóê ÌöåÏùòÎ°ùÏù¥ ÏóÜÏäµÎãàÎã§</p>
                    </div>
                `;
                return;
            }

            // Îã®Ïùº ÏãúÎ¶¨Ï¶àÏù∏ Í≤ΩÏö∞ Î∞îÎ°ú ÌÉÄÏûÑÎùºÏù∏ Î≥¥Í∏∞
            if (groups.length === 1 && groups[0].groupKey === '_single_') {
                showGroupTimeline(groups[0].id);
                return;
            }

            grid.innerHTML = groups.map(group => {
                const latestDate = group.meetings[0]?.date || '-';
                const displayName = group.groupKey === '_single_' ? store.currentFolder : group.groupKey;
                
                return `
                    <div class="group-card" data-group-id="${group.id}">
                        <div class="group-name">
                            üéÆ ${displayName}
                        </div>
                        <div class="group-meta">
                            <span>üìù ${group.meetings.length}Í∞ú ÌöåÏùò</span>
                            <span>üìÖ ÏµúÍ∑º: ${latestDate}</span>
                        </div>
                    </div>
                `;
            }).join('');

            // ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
            grid.querySelectorAll('.group-card').forEach(card => {
                card.addEventListener('click', () => {
                    showGroupTimeline(card.dataset.groupId);
                });
            });
        }

        function showGroupTimeline(groupId) {
            const group = store.groups[groupId];
            if (!group) return;

            store.currentGroup = groupId;
            store.previousView = 'folder';

            document.getElementById('folder-view').style.display = 'none';
            document.getElementById('group-view').style.display = 'block';
            document.getElementById('meeting-detail-view').classList.remove('active');

            const displayName = group.groupKey === '_single_' ? store.currentFolder : group.groupKey;
            document.getElementById('group-title').textContent = `üéÆ ${displayName}`;
            document.getElementById('timeline-count').textContent = `${group.meetings.length}Í∞ú`;

            const timeline = document.getElementById('group-timeline');
            timeline.innerHTML = group.meetings.map(meeting => `
                <div class="timeline-item" data-id="${meeting.id}">
                    <div class="date">${meeting.date}</div>
                    <div class="title">${meeting.title}</div>
                    <div class="summary">${meeting.summary_content ? '‚ú® ÏöîÏïΩÎ≥∏ Ìè¨Ìï®' : 'üìÑ ÏõêÎ≥∏Îßå ÏûàÏùå'}</div>
                </div>
            `).join('');

            // ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
            timeline.querySelectorAll('.timeline-item').forEach(item => {
                item.addEventListener('click', () => {
                    showMeetingDetail(item.dataset.id);
                });
            });

            // Ïï°ÏÖò ÏïÑÏù¥ÌÖú Ìä∏ÎûòÏª§ Î†åÎçîÎßÅ
            renderActionTracker(groupId);
        }

        let currentMeetingId = null;
        let currentMeetingData = null;
        let groupMeetingsList = []; // Í∞ôÏùÄ Í∑∏Î£πÏùò ÌöåÏùò Î™©Î°ù (ÏãúÍ∞ÑÏàú Ï†ïÎ†¨)

        async function showMeetingDetail(meetingId) {
            currentMeetingId = meetingId;
            store.previousView = 'group';

            // Î°úÎî© ÌëúÏãú
            const summaryContent = document.getElementById('summary-content');
            summaryContent.innerHTML = `
                <div class="loading-spinner">
                    <div class="spinner"></div>
                    <p>ÌöåÏùòÎ°ù ÎÇ¥Ïö©ÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ëÏûÖÎãàÎã§...</p>
                </div>
            `;

            try {
                const response = await fetch(`${API_BASE}/api/meetings/${meetingId}`);
                if (!response.ok) throw new Error('Failed to fetch meeting detail');
                
                const meeting = await response.json();
                currentMeetingData = meeting;

                document.getElementById('folder-view').style.display = 'none';
                document.getElementById('group-view').style.display = 'none';
                document.getElementById('meeting-detail-view').classList.add('active');

                document.getElementById('meeting-detail-title').textContent = `üìù ${meeting.title}`;

                // ÏõêÎ≥∏ ÌÉ≠ ÎÇ¥Ïö© ÏÑ§Ï†ï
                const contentOriginal = document.getElementById('meeting-detail-content');
                contentOriginal.innerHTML = `
                    <div style="margin-bottom: 16px;">
                        <span class="tag">üìÖ ${meeting.date}</span>
                        <span class="tag">üìÅ ${meeting.folder}</span>
                    </div>
                    <h4>üìÑ ÏõêÎ≥∏ ÎÇ¥Ïö©</h4>
                    <pre style="white-space: pre-wrap; font-family: inherit; color: var(--text-secondary); font-size: 0.85rem; line-height: 1.7; max-height: 600px; overflow-y: auto; background: var(--bg-tertiary); padding: 16px; border-radius: 8px;">${meeting.content || 'ÎÇ¥Ïö©Ïù¥ ÏóÜÏäµÎãàÎã§.'}</pre>
                `;

                // ÏöîÏïΩ ÌÉ≠ ÎÇ¥Ïö© ÏÑ§Ï†ï
                if (meeting.summary_content) {
                    showSummaryResult(meeting.summary_content);
                } else {
                    summaryContent.innerHTML = `
                        <div class="empty-state">
                            <div class="icon">üìù</div>
                            <p>ÏÉùÏÑ±Îêú ÏöîÏïΩÎ≥∏Ïù¥ ÏóÜÏäµÎãàÎã§.</p>
                            <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 8px;">
                                Ìï¥Îãπ ÌöåÏùòÎ°ùÏùò _Summary.md ÌååÏùºÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.
                            </p>
                        </div>
                    `;
                }

                // Ïù¥Ï†Ñ/Îã§Ïùå ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏóÖÎç∞Ïù¥Ìä∏
                updateMeetingNavigation(meetingId);

                // Í∏∞Î≥∏ ÌÉ≠ÏùÑ ÏöîÏïΩÏúºÎ°ú ÏÑ§Ï†ï
                switchTab('summary');

            } catch (error) {
                console.error('Error loading meeting detail:', error);
                showNotification('ÌöåÏùòÎ°ùÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.', 'error');
            }
        }

        // ==================== Ïù¥Ï†Ñ/Îã§Ïùå ÌöåÏùò ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ====================
        function updateMeetingNavigation(currentId) {
            const navContainer = document.getElementById('meeting-nav');
            const prevBtn = document.getElementById('prev-meeting-btn');
            const nextBtn = document.getElementById('next-meeting-btn');
            const prevDate = document.getElementById('prev-meeting-date');
            const nextDate = document.getElementById('next-meeting-date');
            const currentIndex = document.getElementById('current-meeting-index');
            const totalCount = document.getElementById('total-meetings-count');

            // ÌòÑÏû¨ Í∑∏Î£πÏùò ÌöåÏùò Î™©Î°ù Í∞ÄÏ†∏Ïò§Í∏∞
            if (store.currentGroup && store.groups[store.currentGroup]) {
                groupMeetingsList = [...store.groups[store.currentGroup].meetings]
                    .sort((a, b) => a.date.localeCompare(b.date)); // ÎÇ†ÏßúÏàú Ï†ïÎ†¨
            } else {
                groupMeetingsList = [];
            }

            // Í∑∏Î£πÏóê 2Í∞ú Ïù¥ÏÉÅÏùò ÌöåÏùòÍ∞Ä ÏûàÏúºÎ©¥ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÌëúÏãú
            if (groupMeetingsList.length > 1) {
                navContainer.style.display = 'flex';
                
                const currentIdx = groupMeetingsList.findIndex(m => m.id === currentId);
                const prevMeeting = currentIdx > 0 ? groupMeetingsList[currentIdx - 1] : null;
                const nextMeeting = currentIdx < groupMeetingsList.length - 1 ? groupMeetingsList[currentIdx + 1] : null;

                // ÌòÑÏû¨ ÏúÑÏπò ÌëúÏãú
                currentIndex.textContent = currentIdx + 1;
                totalCount.textContent = groupMeetingsList.length;

                // Ïù¥Ï†Ñ Î≤ÑÌäº ÏÑ§Ï†ï
                if (prevMeeting) {
                    prevBtn.disabled = false;
                    prevDate.textContent = prevMeeting.date;
                    prevBtn.onclick = () => showMeetingDetail(prevMeeting.id);
                } else {
                    prevBtn.disabled = true;
                    prevDate.textContent = '-';
                    prevBtn.onclick = null;
                }

                // Îã§Ïùå Î≤ÑÌäº ÏÑ§Ï†ï
                if (nextMeeting) {
                    nextBtn.disabled = false;
                    nextDate.textContent = nextMeeting.date;
                    nextBtn.onclick = () => showMeetingDetail(nextMeeting.id);
                } else {
                    nextBtn.disabled = true;
                    nextDate.textContent = '-';
                    nextBtn.onclick = null;
                }
            } else {
                navContainer.style.display = 'none';
            }
        }

        // ==================== Ïï°ÏÖò ÏïÑÏù¥ÌÖú Ìä∏ÎûòÏª§ ====================
        // Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóêÏÑú Ïï°ÏÖò ÏïÑÏù¥ÌÖú ÏÉÅÌÉú Í¥ÄÎ¶¨
        const ACTION_STORAGE_KEY = 'meeting_action_items';

        function getStoredActionStates() {
            try {
                return JSON.parse(localStorage.getItem(ACTION_STORAGE_KEY)) || {};
            } catch {
                return {};
            }
        }

        function saveActionState(actionId, status) {
            const states = getStoredActionStates();
            states[actionId] = status;
            localStorage.setItem(ACTION_STORAGE_KEY, JSON.stringify(states));
        }

        // ÏöîÏïΩÏóêÏÑú Ïï°ÏÖò ÏïÑÏù¥ÌÖú Ï∂îÏ∂ú
        function extractActionItems(summary, meetingTitle, meetingDate) {
            const items = [];
            if (!summary) return items;

            // Markdown ÌÖåÏù¥Î∏î ÌååÏã± Ìï®Ïàò
            function parseMarkdownTable(content) {
                const tableItems = [];
                // ÌÖåÏù¥Î∏î Ìå®ÌÑ¥: |Î°ú ÏãúÏûëÌïòÎäî Ïó∞ÏÜçÎêú Ìñâ
                const tableMatch = content.match(/(\|.+\|\n)+/g);
                if (!tableMatch) return null;
                
                const tableText = tableMatch[0];
                const rows = tableText.trim().split('\n').filter(r => r.trim());
                
                if (rows.length < 3) return null; // ÏµúÏÜå Ìó§Îçî + Íµ¨Î∂ÑÏÑ† + Îç∞Ïù¥ÌÑ∞ 1Ìñâ
                
                // Íµ¨Î∂ÑÏÑ† ÌôïÏù∏ (Îëê Î≤àÏß∏ ÌñâÏù¥ |---|---|---| ÌòïÌÉú)
                if (!rows[1].match(/^\|[\s-:|]+\|$/)) return null;
                
                // Ìó§Îçî ÌååÏã± (Ïó¥ Ïù¥Î¶Ñ ÌôïÏù∏)
                const headers = rows[0].split('|').filter(c => c.trim()).map(c => c.trim());
                
                // Îç∞Ïù¥ÌÑ∞ Ìñâ ÌååÏã± (3Î≤àÏß∏ ÌñâÎ∂ÄÌÑ∞)
                rows.slice(2).forEach((row, idx) => {
                    const cells = row.split('|').filter(c => c.trim()).map(c => c.trim());
                    if (cells.length >= 2) {
                        // Îã¥ÎãπÏûêÏôÄ Ìï≠Î™© Ï°∞Ìï©ÌïòÏó¨ ÌÖçÏä§Ìä∏ ÏÉùÏÑ±
                        let text = '';
                        if (headers.includes('Îã¥ÎãπÏûê') || headers.includes('Îã¥Îãπ')) {
                            const assigneeIdx = headers.findIndex(h => h.includes('Îã¥Îãπ'));
                            const taskIdx = headers.findIndex(h => h.includes('Ìï≠Î™©') || h.includes('ÎÇ¥Ïö©') || h.includes('ÏóÖÎ¨¥'));
                            const deadlineIdx = headers.findIndex(h => h.includes('Í∏∞Ìïú') || h.includes('ÎßàÍ∞ê') || h.includes('ÏùºÏ†ï'));
                            
                            const assignee = assigneeIdx >= 0 ? cells[assigneeIdx] : '';
                            const task = taskIdx >= 0 ? cells[taskIdx] : cells[1] || '';
                            const deadline = deadlineIdx >= 0 ? cells[deadlineIdx] : '';
                            
                            text = assignee ? `[${assignee}] ${task}` : task;
                            if (deadline && deadline !== 'TBD') {
                                text += ` (${deadline})`;
                            }
                        } else {
                            // Ìó§ÎçîÏóê Îã¥ÎãπÏûêÍ∞Ä ÏóÜÏúºÎ©¥ Î™®Îì† ÏÖÄ Ìï©ÏπòÍ∏∞
                            text = cells.join(' - ');
                        }
                        
                        if (text && text.length > 3) {
                            tableItems.push({
                                id: `${meetingDate}_tbl_${idx}_${text.substring(0, 20)}`,
                                text: text,
                                source: meetingTitle,
                                date: meetingDate,
                                status: 'pending'
                            });
                        }
                    }
                });
                
                return tableItems.length > 0 ? tableItems : null;
            }

            // ÏÑπÏÖò Í∏∞Î∞ò Ï∂îÏ∂ú (Í≤∞Ï†ï ÏÇ¨Ìï≠ Î∞è Ïï°ÏÖò ÏïÑÏù¥ÌÖú ÏÑπÏÖò)
            const sectionPattern = /##\s*(?:\d+\.\s*)?(?:Í≤∞Ï†ï\s*ÏÇ¨Ìï≠|Ïï°ÏÖò\s*ÏïÑÏù¥ÌÖú|Action\s*Items?|To-?Do|F\/U)[^\n]*\n([\s\S]*?)(?=##|$)/gi;
            let sectionMatch;
            while ((sectionMatch = sectionPattern.exec(summary)) !== null) {
                const sectionContent = sectionMatch[1];
                
                // Î®ºÏ†Ä ÌÖåÏù¥Î∏î ÌòïÏãùÏù∏ÏßÄ ÌôïÏù∏
                const tableItems = parseMarkdownTable(sectionContent);
                if (tableItems) {
                    items.push(...tableItems);
                    continue;
                }
                
                // ÌÖåÏù¥Î∏îÏù¥ ÏïÑÎãàÎ©¥ Í∏∞Ï°¥ ÎùºÏù∏ Í∏∞Î∞ò Ï∂îÏ∂ú
                const lines = sectionContent.split('\n').filter(l => l.trim());
                
                lines.forEach((line, idx) => {
                    // ÌÖåÏù¥Î∏î Ìñâ Î¨¥Ïãú (|Î°ú ÏãúÏûëÌïòÍ±∞ÎÇò Íµ¨Î∂ÑÏÑ†)
                    if (line.trim().startsWith('|') || line.match(/^[-:|]+$/)) {
                        return;
                    }
                    
                    const cleanLine = line.replace(/^[-*‚Ä¢]\s*/, '').trim();
                    if (cleanLine && cleanLine.length > 5 && !cleanLine.startsWith('#')) {
                        items.push({
                            id: `${meetingDate}_${idx}_${cleanLine.substring(0, 20)}`,
                            text: cleanLine,
                            source: meetingTitle,
                            date: meetingDate,
                            status: 'pending'
                        });
                    }
                });
            }

            // Ï§ëÎ≥µ Ï†úÍ±∞
            const uniqueItems = items.filter((item, index, self) =>
                index === self.findIndex(t => t.text === item.text)
            );

            return uniqueItems.slice(0, 15); // ÏµúÎåÄ 15Í∞ú
        }

        // Í∑∏Î£πÏùò Î™®Îì† ÌöåÏùòÏóêÏÑú Ïï°ÏÖò ÏïÑÏù¥ÌÖú ÏàòÏßë
        async function loadGroupActionItems(groupKey) {
            const group = store.groups[groupKey];
            if (!group) return [];

            const allItems = [];
            const storedStates = getStoredActionStates();

            for (const meeting of group.meetings) {
                if (meeting.summary_content) {
                    const items = extractActionItems(meeting.summary_content, meeting.title, meeting.date);
                    items.forEach(item => {
                        // Ï†ÄÏû•Îêú ÏÉÅÌÉú Î≥µÏõê
                        if (storedStates[item.id]) {
                            item.status = storedStates[item.id];
                        }
                        allItems.push(item);
                    });
                }
            }

            // ÎÇ†Ïßú Ïó≠Ïàú Ï†ïÎ†¨ (ÏµúÏã† Î®ºÏ†Ä)
            return allItems.sort((a, b) => b.date.localeCompare(a.date));
        }

        // Ïï°ÏÖò ÏïÑÏù¥ÌÖú UI Î†åÎçîÎßÅ
        async function renderActionTracker(groupKey) {
            const listContainer = document.getElementById('action-list');
            const items = await loadGroupActionItems(groupKey);

            if (items.length === 0) {
                listContainer.innerHTML = `
                    <div class="action-empty">
                        Ï∂îÏ∂úÎêú Ïï°ÏÖò ÏïÑÏù¥ÌÖúÏù¥ ÏóÜÏäµÎãàÎã§.<br>
                        <span style="font-size: 0.75rem; color: var(--text-muted);">
                            ÏöîÏïΩÎ≥∏Ïóê [Í≤∞Ï†ï ÏÇ¨Ìï≠], [To-Do] Îì±Ïùò ÏÑπÏÖòÏù¥ ÏûàÏúºÎ©¥ ÏûêÎèôÏúºÎ°ú Ï∂îÏ∂úÎê©ÎãàÎã§.
                        </span>
                    </div>
                `;
                updateActionStats(0, 0, 0);
                return;
            }

            listContainer.innerHTML = items.map(item => `
                <div class="action-item" data-id="${item.id}">
                    <div class="action-checkbox ${item.status}" onclick="cycleActionStatus('${item.id}', this)"></div>
                    <div class="action-content">
                        <div class="action-text ${item.status === 'completed' ? 'completed' : ''}">${item.text}</div>
                        <div class="action-meta">
                            <span class="source">üìÑ ${item.source}</span>
                            <span>üìÖ ${item.date}</span>
                        </div>
                    </div>
                </div>
            `).join('');

            // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
            const completed = items.filter(i => i.status === 'completed').length;
            const inProgress = items.filter(i => i.status === 'in-progress').length;
            const pending = items.filter(i => i.status === 'pending').length;
            updateActionStats(completed, inProgress, pending);
        }

        function updateActionStats(completed, inProgress, pending) {
            document.getElementById('stat-completed').textContent = `‚úì ${completed}`;
            document.getElementById('stat-progress').textContent = `‚óê ${inProgress}`;
            document.getElementById('stat-pending').textContent = `‚óã ${pending}`;
        }

        // ÏÉÅÌÉú ÏàúÌôò: pending ‚Üí in-progress ‚Üí completed ‚Üí pending
        function cycleActionStatus(actionId, element) {
            const currentStatus = element.classList.contains('completed') ? 'completed' :
                                  element.classList.contains('in-progress') ? 'in-progress' : 'pending';
            
            let newStatus;
            if (currentStatus === 'pending') newStatus = 'in-progress';
            else if (currentStatus === 'in-progress') newStatus = 'completed';
            else newStatus = 'pending';

            // UI ÏóÖÎç∞Ïù¥Ìä∏
            element.classList.remove('pending', 'in-progress', 'completed');
            element.classList.add(newStatus);

            // ÌÖçÏä§Ìä∏ Ïä§ÌÉÄÏùº ÏóÖÎç∞Ïù¥Ìä∏
            const textEl = element.parentElement.querySelector('.action-text');
            if (newStatus === 'completed') {
                textEl.classList.add('completed');
            } else {
                textEl.classList.remove('completed');
            }

            // ÏÉÅÌÉú Ï†ÄÏû•
            saveActionState(actionId, newStatus);

            // ÌÜµÍ≥Ñ Îã§Ïãú Í≥ÑÏÇ∞
            const items = document.querySelectorAll('.action-checkbox');
            let completed = 0, inProgress = 0, pending = 0;
            items.forEach(item => {
                if (item.classList.contains('completed')) completed++;
                else if (item.classList.contains('in-progress')) inProgress++;
                else pending++;
            });
            updateActionStats(completed, inProgress, pending);
        }

        function showSummaryResult(summary) {
            const summaryContent = document.getElementById('summary-content');
            
            // ÏÑπÏÖòÎ≥ÑÎ°ú Î∂ÑÎ¶¨ÌïòÏó¨ Ïπ¥ÎìúÎ°ú Î†åÎçîÎßÅ
            const sections = parseSections(summary);
            
            if (sections.length === 0) {
                // ÏÑπÏÖò Íµ¨Î∂ÑÏù¥ ÏóÜÏúºÎ©¥ Í∏∞Ï°¥ Î∞©ÏãùÏúºÎ°ú Î†åÎçîÎßÅ
                summaryContent.innerHTML = `
                    <div class="summary-result">
                        <div class="section-card" data-type="detail">
                            <div class="section-card-content">
                                ${markdownToHtml(summary)}
                            </div>
                        </div>
                    </div>
                `;
                return;
            }

            const cardsHtml = sections.map(section => {
                const typeInfo = getSectionType(section.title);
                return `
                    <div class="section-card" data-type="${typeInfo.type}">
                        <div class="section-card-header">
                            <span class="section-card-icon">${typeInfo.icon}</span>
                            <h2 class="section-card-title">${section.title}</h2>
                        </div>
                        <div class="section-card-content">
                            ${markdownToHtml(section.content)}
                        </div>
                    </div>
                `;
            }).join('');

            summaryContent.innerHTML = `<div class="summary-result">${cardsHtml}</div>`;
        }

        // ÎßàÌÅ¨Îã§Ïö¥ÏùÑ ## Í∏∞Ï§ÄÏúºÎ°ú ÏÑπÏÖò Î∂ÑÎ¶¨
        function parseSections(markdown) {
            const sections = [];
            // ## Î°ú ÏãúÏûëÌïòÎäî ÏÑπÏÖò Î∂ÑÎ¶¨ (## ÏïûÏóê Ï§ÑÎ∞îÍøàÏù¥ ÏûàÍ±∞ÎÇò Î¨∏ÏÑú ÏãúÏûë)
            const sectionRegex = /(?:^|\n)## (.+?)(?=\n)/g;
            const matches = [...markdown.matchAll(sectionRegex)];
            
            if (matches.length === 0) return [];

            matches.forEach((match, index) => {
                const title = match[1].trim();
                const startIndex = match.index + match[0].length;
                const endIndex = index < matches.length - 1 
                    ? matches[index + 1].index 
                    : markdown.length;
                
                let content = markdown.substring(startIndex, endIndex).trim();
                // --- Íµ¨Î∂ÑÏÑ† Ï†úÍ±∞
                content = content.replace(/^---\s*$/gm, '').trim();
                
                sections.push({ title, content });
            });

            return sections;
        }

        // ÏÑπÏÖò Ï†úÎ™©Ïóê Îî∞Î•∏ ÌÉÄÏûÖÍ≥º ÏïÑÏù¥ÏΩò Í≤∞Ï†ï
        function getSectionType(title) {
            const titleLower = title.toLowerCase();
            
            if (titleLower.includes('Í∞úÏöî') || titleLower.includes('overview') || titleLower.includes('summary')) {
                return { type: 'overview', icon: 'üìã' };
            }
            if (titleLower.includes('ÏÉÅÏÑ∏') || titleLower.includes('ÌòÑÌô©') || titleLower.includes('deep') || titleLower.includes('detail') || titleLower.includes('Î∂ÑÏÑù') || titleLower.includes('ÎÇ¥Ïö©')) {
                return { type: 'detail', icon: 'üìä' };
            }
            if (titleLower.includes('Î¶¨Ïä§ÌÅ¨') || titleLower.includes('risk') || titleLower.includes('Ïù∏ÏÇ¨Ïù¥Ìä∏') || titleLower.includes('insight') || titleLower.includes('Ïù¥Ïäà')) {
                return { type: 'risk', icon: '‚ö†Ô∏è' };
            }
            if (titleLower.includes('Í≤∞Ï†ï') || titleLower.includes('Ïï°ÏÖò') || titleLower.includes('action') || titleLower.includes('to-do') || titleLower.includes('todo') || titleLower.includes('decision')) {
                return { type: 'action', icon: '‚úÖ' };
            }
            if (titleLower.includes('f/u') || titleLower.includes('follow') || titleLower.includes('Îã§Ïùå') || titleLower.includes('next') || titleLower.includes('q&a') || titleLower.includes('qna') || titleLower.includes('ÏöîÏïΩ') || titleLower.includes('Í≤∞Î°†')) {
                return { type: 'followup', icon: 'üìÖ' };
            }
            if (titleLower.includes('ÌïµÏã¨') || titleLower.includes('key') || titleLower.includes('ÏöîÏ†ê')) {
                return { type: 'overview', icon: 'üí°' };
            }
            
            return { type: 'detail', icon: 'üìÑ' };
        }

        // ÏÑπÏÖò ÎÇ¥Ïö©ÏùÑ HTMLÎ°ú Î≥ÄÌôò (## Ï†úÏô∏, ### Ïù¥ÌïòÎßå Ï≤òÎ¶¨)
        function markdownToHtml(markdown) {
            // ÌÖåÏù¥Î∏î ÌååÏã±ÏùÑ Î®ºÏ†Ä Ï≤òÎ¶¨
            let result = markdown;
            
            // ÎßàÌÅ¨Îã§Ïö¥ ÌÖåÏù¥Î∏î ÌååÏã±
            result = result.replace(/(\|.+\|[\r\n]+\|[-:\s|]+\|[\r\n]+(?:\|.+\|[\r\n]*)+)/gm, (tableMatch) => {
                const lines = tableMatch.trim().split('\n').filter(line => line.trim());
                if (lines.length < 2) return tableMatch;
                
                // Ìó§Îçî Ìñâ ÌååÏã±
                const headerCells = lines[0].split('|').filter(cell => cell.trim() !== '');
                
                // Íµ¨Î∂ÑÏÑ† ÌôïÏù∏ (Îëê Î≤àÏß∏ Ï§Ñ)
                if (!lines[1].match(/^\|[\s-:|]+\|$/)) return tableMatch;
                
                // Îç∞Ïù¥ÌÑ∞ Ìñâ ÌååÏã±
                const dataRows = lines.slice(2);
                
                let tableHtml = '<table class="md-table"><thead><tr>';
                headerCells.forEach(cell => {
                    tableHtml += `<th>${cell.trim()}</th>`;
                });
                tableHtml += '</tr></thead><tbody>';
                
                dataRows.forEach(row => {
                    const cells = row.split('|').filter(cell => cell.trim() !== '');
                    tableHtml += '<tr>';
                    cells.forEach(cell => {
                        // ÏÖÄ ÎÇ¥ Î≥ºÎìú Ï≤òÎ¶¨
                        let cellContent = cell.trim().replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                        tableHtml += `<td>${cellContent}</td>`;
                    });
                    tableHtml += '</tr>';
                });
                
                tableHtml += '</tbody></table>';
                return tableHtml;
            });
            
            return result
                // #### Ìó§Îçî Ï≤òÎ¶¨
                .replace(/^#### (.+)$/gm, '<h4>$1</h4>')
                // ### Ìó§ÎçîÎßå Ï≤òÎ¶¨ (## Îäî Ïπ¥Îìú Ìó§ÎçîÎ°ú Î∂ÑÎ¶¨Îê®)
                .replace(/^### (.+)$/gm, '<h3>$1</h3>')
                // Bold
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                // Italic (Î≥ºÎìúÍ∞Ä ÏïÑÎãå Í≤ΩÏö∞Îßå)
                .replace(/(?<!\*)\*(?!\*)(.+?)(?<!\*)\*(?!\*)/g, '<em>$1</em>')
                // Ï§ëÏ≤© Î¶¨Ïä§Ìä∏Î•º Ìè¨Ìï®Ìïú Î¶¨Ïä§Ìä∏ Ï≤òÎ¶¨
                .replace(/^(\s*)[-*] (.+)$/gm, (match, indent, content) => {
                    const level = indent.length >= 2 ? 'nested' : 'top';
                    return `<li data-level="${level}">${content}</li>`;
                })
                // Ïó∞ÏÜçÎêú liÎ•º ulÎ°ú Í∞êÏã∏Í∏∞
                .replace(/(<li[^>]*>.*?<\/li>\n?)+/gs, (match) => {
                    // Ï§ëÏ≤© Î¶¨Ïä§Ìä∏ Ï≤òÎ¶¨
                    let result = match;
                    // nested Î†àÎ≤® liÎì§ÏùÑ Î≥ÑÎèÑ ulÎ°ú Í∞êÏã∏Í∏∞
                    result = result.replace(/(<li data-level="nested">.*?<\/li>\n?)+/gs, '<ul class="nested">$&</ul>');
                    return `<ul>${result}</ul>`;
                })
                // data-level ÏÜçÏÑ± Ï†úÍ±∞
                .replace(/ data-level="[^"]*"/g, '')
                // Ï§ÑÎ∞îÍøà Ï≤òÎ¶¨
                .replace(/\n\n+/g, '</p><p>')
                .replace(/([^>\n])\n([^<\n])/g, '$1<br>$2')
                // Îπà ÌÉúÍ∑∏ Ï†ïÎ¶¨
                .replace(/<p>\s*<\/p>/g, '')
                .replace(/<p>\s*<ul>/g, '<ul>')
                .replace(/<\/ul>\s*<\/p>/g, '</ul>')
                .replace(/<p>\s*<h3>/g, '<h3>')
                .replace(/<\/h3>\s*<\/p>/g, '</h3>')
                .replace(/<p>\s*<h4>/g, '<h4>')
                .replace(/<\/h4>\s*<\/p>/g, '</h4>')
                .replace(/<p>\s*<table/g, '<table')
                .replace(/<\/table>\s*<\/p>/g, '</table>')
                // Ïó∞ÏÜç ul Î≥ëÌï©
                .replace(/<\/ul>\s*<ul>/g, '')
                .trim();
        }

        function switchTab(tabName) {
            // ÌÉ≠ Î≤ÑÌäº ÏÉÅÌÉú Î≥ÄÍ≤Ω
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.tab === tabName);
            });

            // ÌÉ≠ ÏΩòÌÖêÏ∏† Ï†ÑÌôò
            document.getElementById('content-summary').style.display = tabName === 'summary' ? 'block' : 'none';
            document.getElementById('content-original').style.display = tabName === 'original' ? 'block' : 'none';
        }

        // ÌÉ≠ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
        document.getElementById('tab-summary').addEventListener('click', () => switchTab('summary'));
        document.getElementById('tab-original').addEventListener('click', () => switchTab('original'));

        // ==================== Navigation ====================
        document.getElementById('back-to-folder').addEventListener('click', () => {
            if (store.currentFolder) {
                showFolder(store.currentFolder);
            }
        });

        document.getElementById('back-to-group').addEventListener('click', () => {
            if (store.currentGroup) {
                showGroupTimeline(store.currentGroup);
            } else if (store.currentFolder) {
                showFolder(store.currentFolder);
            }
        });

        // ==================== Chat ====================
        document.getElementById('open-chat').addEventListener('click', () => {
            document.getElementById('chat-panel').classList.add('active');
        });

        document.getElementById('close-chat').addEventListener('click', () => {
            document.getElementById('chat-panel').classList.remove('active');
        });

        document.getElementById('chat-send').addEventListener('click', sendChatMessage);
        document.getElementById('chat-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendChatMessage();
        });

        async function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const query = input.value.trim();
            if (!query) return;

            addChatMessage(query, true);
            input.value = '';

            // Î°úÎî© ÌëúÏãú
            const loadingId = addLoadingMessage();

            // ÏóÖÎ¨¥ÏùºÏßÄ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞
            const worklogData = getWorklogData();

            try {
                const response = await fetch(`${API_BASE}/api/chat`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query, worklog: worklogData })
                });

                removeLoadingMessage(loadingId);

                if (response.ok) {
                    const data = await response.json();
                    addChatMessageWithSources(data.answer, data.sources || []);
                } else {
                    addChatMessage('ÏùëÎãµ ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.', false);
                }
            } catch (error) {
                removeLoadingMessage(loadingId);
                addChatMessage('ÏÑúÎ≤Ñ Ïó∞Í≤∞Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.', false);
            }
        }

        function addLoadingMessage() {
            const messages = document.getElementById('chat-messages');
            const div = document.createElement('div');
            const id = 'loading-' + Date.now();
            div.id = id;
            div.className = 'chat-message assistant';
            div.innerHTML = `
                <div class="bubble loading-bubble">
                    <span class="loading-dots">
                        <span>.</span><span>.</span><span>.</span>
                    </span>
                    ÌöåÏùòÎ°ùÏùÑ Í≤ÄÏÉâÌïòÍ≥† ÏûàÏäµÎãàÎã§...
                </div>
            `;
            messages.appendChild(div);
            messages.scrollTop = messages.scrollHeight;
            return id;
        }

        function removeLoadingMessage(id) {
            const el = document.getElementById(id);
            if (el) el.remove();
        }

        function addChatMessage(text, isUser) {
            const messages = document.getElementById('chat-messages');
            const div = document.createElement('div');
            div.className = `chat-message ${isUser ? 'user' : 'assistant'}`;
            div.innerHTML = `<div class="bubble">${text}</div>`;
            messages.appendChild(div);
            messages.scrollTop = messages.scrollHeight;
        }

        function addChatMessageWithSources(answer, sources) {
            const messages = document.getElementById('chat-messages');
            const div = document.createElement('div');
            div.className = 'chat-message assistant';

            // ÎãµÎ≥Ä ÌÖçÏä§Ìä∏Î•º HTMLÎ°ú Î≥ÄÌôò (Ï§ÑÎ∞îÍøà Ï≤òÎ¶¨)
            const formattedAnswer = answer
                .replace(/\n\n/g, '</p><p>')
                .replace(/\n/g, '<br>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

            let sourcesHtml = '';
            if (sources && sources.length > 0) {
                sourcesHtml = `
                    <div class="chat-sources">
                        <div class="sources-label">üìö Ï∞∏Í≥†Ìïú ÌöåÏùòÎ°ù:</div>
                        <div class="sources-list">
                            ${sources.map(s => `
                                <div class="source-item" onclick="navigateToMeeting('${s.id}')" title="ÌÅ¥Î¶≠ÌïòÏó¨ ÌöåÏùòÎ°ù Î≥¥Í∏∞">
                                    <span class="source-date">${s.date}</span>
                                    <span class="source-title">${s.title}</span>
                                    <span class="source-folder">${s.folder}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            div.innerHTML = `
                <div class="bubble">
                    <div class="answer-content"><p>${formattedAnswer}</p></div>
                    ${sourcesHtml}
                </div>
            `;
            messages.appendChild(div);
            messages.scrollTop = messages.scrollHeight;
        }

        function navigateToMeeting(meetingId) {
            // Ï±ÑÌåÖ Ìå®ÎÑê Îã´Í∏∞
            document.getElementById('chat-panel').classList.remove('active');
            // ÌöåÏùòÎ°ù ÏÉÅÏÑ∏ Î≥¥Í∏∞
            showMeetingDetail(meetingId);
        }

        // ==================== Sync ====================
        document.getElementById('sync-btn').addEventListener('click', async () => {
            try {
                await fetch(`${API_BASE}/api/sync`);
                await loadDataFromServer();
            } catch (error) {
                showNotification('ÎèôÍ∏∞Ìôî Ïã§Ìå®', 'error');
            }
        });

        // ==================== Utility ====================
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }

        // ==================== Init ====================
        document.addEventListener('DOMContentLoaded', () => {
            loadDataFromServer();
            setupWorklogEvents();
        });
    </script>
</body>
</html>
